webpackJsonp([4],{"/vN/":function(t,e,s){var a=s("Icdr"),i=s("/gZK"),o=s("/gxq"),n=s("vXqC"),l=s("wWR3").getPercentWithPrecision,r=s("kQD9"),c=s("5KBG").retrieveRawAttr,d=a.extendSeriesModel({type:"series.pie",init:function(t){d.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},mergeOption:function(t){d.superCall(this,"mergeOption",t),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t,e){return i(this,["value"])},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),s=[],a=0,i=t.count();a<i;a++)s.push({name:t.getName(a),value:t.get(e,a),selected:c(t,a,"selected")});return s},getDataParams:function(t){var e=this.getData(),s=d.superCall(this,"getDataParams",t),a=[];return e.each(e.mapDimension("value"),function(t){a.push(t)}),s.percent=l(a,t,e.hostModel.get("percentPrecision")),s.$vars.push("percent"),s},_defaultLabelLine:function(t){n.defaultEmphasis(t,"labelLine",["show"]);var e=t.labelLine,s=t.emphasis.labelLine;e.show=e.show&&t.label.show,s.show=s.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});o.mixin(d,r);var u=d;t.exports=u},"1A4n":function(t,e,s){var a=s("/gxq"),i=s("0sHC"),o=s("Ylhr");function n(t,e,s,a){var i=e.getData(),o=this.dataIndex,n=i.getName(o),r=e.get("selectedOffset");a.dispatchAction({type:"pieToggleSelect",from:t,name:n,seriesId:e.id}),i.each(function(t){l(i.getItemGraphicEl(t),i.getItemLayout(t),e.isSelected(i.getName(t)),r,s)})}function l(t,e,s,a,i){var o=(e.startAngle+e.endAngle)/2,n=Math.cos(o),l=Math.sin(o),r=s?a:0,c=[n*r,l*r];i?t.animate().when(200,{position:c}).start("bounceOut"):t.attr("position",c)}function r(t,e){i.Group.call(this);var s=new i.Sector({z2:2}),a=new i.Polyline,o=new i.Text;function n(){a.ignore=a.hoverIgnore,o.ignore=o.hoverIgnore}function l(){a.ignore=a.normalIgnore,o.ignore=o.normalIgnore}this.add(s),this.add(a),this.add(o),this.updateData(t,e,!0),this.on("emphasis",n).on("normal",l).on("mouseover",n).on("mouseout",l)}var c=r.prototype;c.updateData=function(t,e,s){var o=this.childAt(0),n=t.hostModel,r=t.getItemModel(e),c=t.getItemLayout(e),d=a.extend({},c);(d.label=null,s)?(o.setShape(d),"scale"===n.getShallow("animationType")?(o.shape.r=c.r0,i.initProps(o,{shape:{r:c.r}},n,e)):(o.shape.endAngle=c.startAngle,i.updateProps(o,{shape:{endAngle:c.endAngle}},n,e))):i.updateProps(o,{shape:d},n,e);var u=t.getItemVisual(e,"color");o.useStyle(a.defaults({lineJoin:"bevel",fill:u},r.getModel("itemStyle").getItemStyle())),o.hoverStyle=r.getModel("emphasis.itemStyle").getItemStyle();var p=r.getShallow("cursor");function m(){o.stopAnimation(!0),o.animateTo({shape:{r:c.r+n.get("hoverOffset")}},300,"elasticOut")}function h(){o.stopAnimation(!0),o.animateTo({shape:{r:c.r}},300,"elasticOut")}p&&o.attr("cursor",p),l(this,t.getItemLayout(e),n.isSelected(null,e),n.get("selectedOffset"),n.get("animation")),o.off("mouseover").off("mouseout").off("emphasis").off("normal"),r.get("hoverAnimation")&&n.isAnimationEnabled()&&o.on("mouseover",m).on("mouseout",h).on("emphasis",m).on("normal",h),this._updateLabel(t,e),i.setHoverStyle(this)},c._updateLabel=function(t,e){var s=this.childAt(1),a=this.childAt(2),o=t.hostModel,n=t.getItemModel(e),l=t.getItemLayout(e).label,r=t.getItemVisual(e,"color");i.updateProps(s,{shape:{points:l.linePoints||[[l.x,l.y],[l.x,l.y],[l.x,l.y]]}},o,e),i.updateProps(a,{style:{x:l.x,y:l.y}},o,e),a.attr({rotation:l.rotation,origin:[l.x,l.y],z2:10});var c=n.getModel("label"),d=n.getModel("emphasis.label"),u=n.getModel("labelLine"),p=n.getModel("emphasis.labelLine");r=t.getItemVisual(e,"color");i.setLabelStyle(a.style,a.hoverStyle={},c,d,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:r,useInsideStyle:!!l.inside},{textAlign:l.textAlign,textVerticalAlign:l.verticalAlign,opacity:t.getItemVisual(e,"opacity")}),a.ignore=a.normalIgnore=!c.get("show"),a.hoverIgnore=!d.get("show"),s.ignore=s.normalIgnore=!u.get("show"),s.hoverIgnore=!p.get("show"),s.setStyle({stroke:r,opacity:t.getItemVisual(e,"opacity")}),s.setStyle(u.getModel("lineStyle").getLineStyle()),s.hoverStyle=p.getModel("lineStyle").getLineStyle();var m=u.get("smooth");m&&!0===m&&(m=.4),s.setShape({smooth:m})},a.inherits(r,i.Group);var d=o.extend({type:"pie",init:function(){var t=new i.Group;this._sectorGroup=t},render:function(t,e,s,i){if(!i||i.from!==this.uid){var o=t.getData(),l=this._data,c=this.group,d=e.get("animation"),u=!l,p=t.get("animationType"),m=a.curry(n,this.uid,t,d,s),h=t.get("selectedMode");if(o.diff(l).add(function(t){var e=new r(o,t);u&&"scale"!==p&&e.eachChild(function(t){t.stopAnimation(!0)}),h&&e.on("click",m),o.setItemGraphicEl(t,e),c.add(e)}).update(function(t,e){var s=l.getItemGraphicEl(e);s.updateData(o,t),s.off("click"),h&&s.on("click",m),c.add(s),o.setItemGraphicEl(t,s)}).remove(function(t){var e=l.getItemGraphicEl(t);c.remove(e)}).execute(),d&&u&&o.count()>0&&"scale"!==p){var f=o.getItemLayout(0),v=Math.max(s.getWidth(),s.getHeight())/2,g=a.bind(c.removeClipPath,c);c.setClipPath(this._createClipPath(f.cx,f.cy,v,f.startAngle,f.clockwise,g,t))}else c.removeClipPath();this._data=o}},dispose:function(){},_createClipPath:function(t,e,s,a,o,n,l){var r=new i.Sector({shape:{cx:t,cy:e,r0:0,r:s,startAngle:a,endAngle:a,clockwise:o}});return i.initProps(r,{shape:{endAngle:a+(o?1:-1)*Math.PI*2}},l,n),r},containPoint:function(t,e){var s=e.getData().getItemLayout(0);if(s){var a=t[0]-s.cx,i=t[1]-s.cy,o=Math.sqrt(a*a+i*i);return o<=s.r&&o>=s.r0}}});t.exports=d},"9Z3y":function(t,e,s){var a=s("wWR3"),i=a.parsePercent,o=a.linearMap,n=s("XhgW"),l=s("/gxq"),r=2*Math.PI,c=Math.PI/180;t.exports=function(t,e,s,a){e.eachSeriesByType(t,function(t){var e=t.getData(),a=e.mapDimension("value"),d=t.get("center"),u=t.get("radius");l.isArray(u)||(u=[0,u]),l.isArray(d)||(d=[d,d]);var p=s.getWidth(),m=s.getHeight(),h=Math.min(p,m),f=i(d[0],p),v=i(d[1],m),g=i(u[0],h/2),_=i(u[1],h/2),y=-t.get("startAngle")*c,b=t.get("minAngle")*c,w=0;e.each(a,function(t){!isNaN(t)&&w++});var x=e.getSum(a),C=Math.PI/(x||w)*2,S=t.get("clockwise"),I=t.get("roseType"),$=t.get("stillShowZeroSum"),D=e.getDataExtent(a);D[0]=0;var L=r,M=0,k=y,A=S?1:-1;if(e.each(a,function(t,s){var a;if(isNaN(t))e.setItemLayout(s,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:S,cx:f,cy:v,r0:g,r:I?NaN:_});else{(a="area"!==I?0===x&&$?C:t*C:r/w)<b?(a=b,L-=b):M+=t;var i=k+A*a;e.setItemLayout(s,{angle:a,startAngle:k,endAngle:i,clockwise:S,cx:f,cy:v,r0:g,r:I?o(t,D,[g,_]):_}),k=i}}),L<r&&w)if(L<=.001){var N=r/w;e.each(a,function(t,s){if(!isNaN(t)){var a=e.getItemLayout(s);a.angle=N,a.startAngle=y+A*s*N,a.endAngle=y+A*(s+1)*N}})}else C=L/M,k=y,e.each(a,function(t,s){if(!isNaN(t)){var a=e.getItemLayout(s),i=a.angle===b?b:t*C;a.startAngle=k,a.endAngle=k+A*i,k+=A*i}});n(t,_,p,m)})}},"9sSk":function(t,e){},EFoF:function(t,e){},FOzF:function(t,e){},IQe9:function(t,e){},"Ng/7":function(t,e){},NhQd:function(t,e){},Pt1D:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("wtEF"),i=s("mtWM"),o=s.n(i),n=s("9igS"),l=(s("7t+N"),s("mw3O"),{data:function(){var t=this,e=function(t,e,s){""===e?s(new Error("请输入密码")):s()};return{public_username:this.$store.state.user,imgUrl:"",portrait:this.$store.state.portrait,dialogFormVisible:!1,divisible:!1,formLabelWidth:"120px",collapse:!1,collapse2:!1,fullscreen:!1,dotmessage:!1,message_val:0,breadsList:{path:"",title:""},reSetForm:{oldpass:"",newpass:"",respass:""},rules:{oldpass:[{require:!0,validator:e,trigger:"blur"}],newpass:[{require:!0,validator:e,trigger:"blur"}],respass:[{require:!0,validator:function(e,s,a){""==s?a(new Error("请输入确认密码")):t.reSetForm.newpass!==s?a(new Error("两次输入不同，请重新输入")):a()},trigger:"blur"}]}}},inject:["reload"],mounted:function(){this.loadIMG(),this.loadmessage(),document.body.clientWidth<1500&&this.collapseChage()},watch:{$route:function(t,e){this.loadmessage()}},methods:{getBread:function(){this.breadsList.path=this.$route.path,this.breadsList.title=this.$route.meta.title},loadIMG:function(){this.$store.state.portrait&&"null"!==this.$store.state.portrait?this.imgUrl=this.$store.state.systemHttp+"/upload/"+this.$store.state.iscId+"/"+this.$store.state.portrait:this.imgUrl=this.$store.state.systemHttp+"/upload/staticImg/avatar.jpg"},submitFormUser:function(t){var e=this,a=s("1nuA"),i={};i.oldPassword=e.reSetForm.oldpass,i.private_password=e.reSetForm.newpass,i.private_id=e.$store.state.ispId,i.cId=e.$store.state.iscId,e.$refs[t].validate(function(t){t?o()({method:"post",url:e.$store.state.defaultHttp+"updatePrivatePassword.do",data:a.stringify(i)}).then(function(t){t.data.code&&200==t.data.code?(e.$message({message:"密码修改成功",type:"success"}),e.$router.push("/login")):t.data.msg&&"error"==t.data.msg?e.$message({message:"对不起，您没有该权限，请联系管理员开通",type:"error"}):e.$message({message:t.data.msg,type:"error"})}).catch(function(t){e.$message.error("密码修改失败，请重新提交")}):e.$message.error("提交错误，请检查您的网络")})},handleCommand:function(t){"loginout"==t&&(localStorage.removeItem("iscId"),localStorage.removeItem("ispId"),localStorage.removeItem("user"),localStorage.removeItem("deptid"),localStorage.removeItem("roleid"),localStorage.removeItem("insid"),this.$router.push("/login")),"resPassWord"==t&&(this.dialogFormVisible=!0)},collapseChage:function(){this.collapse=!this.collapse,n.a.$emit("collapse",this.collapse)},handleFullScreen:function(){var t=document.documentElement;this.fullscreen?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen(),this.fullscreen=!this.fullscreen},handlemessage:function(){this.$store.state.loadornot=!0,this.collapse2=!0,n.a.$emit("collapse2",this.collapse2)},getTime:function(){this.$store.commit("getNowTime")},loadmessage:function(){this.getTime();var t=this,e=s("1nuA"),a={};a.remindTime=this.$store.state.nowtime,a.state="未读",o()({method:"post",url:t.$store.state.defaultHttp+"message/selectMessage.do?cId="+t.$store.state.iscId+"&pId="+t.$store.state.ispId,data:e.stringify(a)}).then(function(e){e.data.count&&e.data.count>0?(t.dotmessage=!0,t.message_val=e.data.count):e.data.count||0!=e.data.count||(t.dotmessage=!1)}).catch(function(t){})}}}),r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"header-in",class:{"content-collapse":t.collapse}},[s("div",{staticClass:"collapse-btn",on:{click:t.collapseChage}},[s("i",{staticClass:"el-icon-menu"})])]),t._v(" "),s("div",{staticClass:"header-right"},[s("div",{staticClass:"header-user-con"},[s("div",{staticClass:"btn-bell",on:{click:t.handlemessage}},[s("el-badge",{staticClass:"wel_item",attrs:{hidden:!t.dotmessage,value:t.message_val}},[s("i",{staticClass:"mdi mdi-bell-outline"})])],1),t._v(" "),s("div",{staticClass:"btn-fullscreen",on:{click:t.handleFullScreen}},[s("el-tooltip",{attrs:{effect:"dark",content:t.fullscreen?"取消全屏":"全屏",placement:"bottom"}},[s("i",{class:t.fullscreen?"mdi mdi-fullscreen-exit":"mdi mdi-fullscreen"})])],1),t._v(" "),s("el-dropdown",{staticClass:"user-name",attrs:{trigger:"click"},on:{command:t.handleCommand}},[s("el-tooltip",{attrs:{effect:"dark",content:t.public_username,placement:"left-end"}},[s("span",{staticClass:"el-dropdown-link"},[s("img",{attrs:{src:t.imgUrl,alt:t.public_username}})])]),t._v(" "),s("span",[s("i",{staticClass:"el-icon-caret-bottom"})]),t._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{divided:"",command:"resPassWord"}},[t._v("修改密码")]),t._v(" "),s("el-dropdown-item",{attrs:{divided:"",command:"loginout"}},[t._v("退出登录")])],1)],1)],1)]),t._v(" "),s("el-dialog",{attrs:{center:"",title:"修改密码",visible:t.dialogFormVisible,"close-on-click-modal":!1,width:"40%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[s("el-form",{ref:"reSetForm",attrs:{model:t.reSetForm,rules:t.rules,"label-width":"100px","label-position":"left"}},[s("el-form-item",{attrs:{prop:"oldpass",label:"旧密码"}},[s("el-input",{staticClass:"handle-input mr10",staticStyle:{width:"240px"},attrs:{type:"text",clearable:""},model:{value:t.reSetForm.oldpass,callback:function(e){t.$set(t.reSetForm,"oldpass",e)},expression:"reSetForm.oldpass"}})],1),t._v(" "),s("el-form-item",{attrs:{prop:"newpass",label:"新密码"}},[s("el-input",{staticClass:"handle-input mr10",staticStyle:{width:"240px"},attrs:{type:"text",clearable:""},model:{value:t.reSetForm.newpass,callback:function(e){t.$set(t.reSetForm,"newpass",e)},expression:"reSetForm.newpass"}})],1),t._v(" "),s("el-form-item",{attrs:{prop:"respass",label:"确认密码"}},[s("el-input",{staticStyle:{width:"240px"},attrs:{type:"text",clearable:""},model:{value:t.reSetForm.respass,callback:function(e){t.$set(t.reSetForm,"respass",e)},expression:"reSetForm.respass"}})],1)],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitFormUser("reSetForm")}}},[t._v("确 定")])],1)],1),t._v(" "),s("div",{staticClass:"message_c",attrs:{id:"message_c"}})],1)},staticRenderFns:[]};var c=s("VU/8")(l,r,!1,function(t){s("SDo3")},"data-v-29a1f90a",null).exports,d={data:function(){return{crmMenu:1,collapse:!1,showlogo:!0,crmItemone:[{icon:"mdi-airplay",index:"index",title:"首页"},{icon:"mdi-database-plus",index:"2",title:"数据中心",subs:[{index:"customerSearch",title:"线索挖掘"},{index:"reportForm",title:"获客报表"}]}],crmItemtwo:[{icon:"mdi-cards-outline",index:"3",title:"销售支持",subs:[{index:"clue",title:"线索"},{index:"cluePool",title:"线索池"},{index:"customer",title:"客户"},{index:"customerPool",title:"客户池"},{index:"contacts",title:"联系人"},{index:"businessOpportunity",title:"商机"},{index:"agreement",title:"合同"},{index:"order",title:"销售订单"},{index:"receive",title:"合同回款"},{index:"orderReceive",title:"订单收款"},{index:"followlog",title:"跟进记录"},{index:"product",title:"产品"},{index:"namesss",title:"名字"}]},{icon:"mdi-bullseye",index:"4",title:"营销",subs:[{index:"culturePond",title:"培育池"},{index:"competitor",title:"竞争对手"},{index:"socialMarketing",title:"社交营销"},{index:"smstemp",title:"短信模板"},{index:"SMSradar",title:"营销雷达"}]},{icon:"mdi-vector-triangle",index:"5",title:"售后服务",subs:[{index:"workOrder",title:"工单"},{index:"jobClassification",title:"新增工单"},{index:"experienceBase",title:"经验库"}]},{icon:"mdi-puzzle",index:"analysisReport",title:"商业智能"}],crmItemlast:[{icon:"mdi-settings",index:"8",title:"系统设置",subs:[{index:"organization",title:"组织机构"},{index:"user",title:"用户管理"},{index:"customFields",title:"自定义字段"},{index:"basicset",title:"辅助资料"},{index:"cusportrait",title:"客户画像"},{index:"approvalProcess",title:"审批流程"},{index:"programme",title:"目标"},{index:"logs",title:"日志"}]}],workItema:[{icon:"mdi-account-outline",index:"1",title:"办公",subs:[{index:"visitplan",title:"外勤"},{index:"missionplan",title:"任务"},{index:"note",title:"便签"}]}],orderItema:[{icon:"mdi-account-outline",index:"1",title:"销售管理",subs:[{index:"order",title:"销售订单"},{index:"product",title:"产品"}]},{icon:"mdi-account-outline",index:"2",title:"财务管理",subs:[{index:"receive",title:"合同回款"},{index:"orderReceive",title:"订单收款"}]}]}},computed:{onRoutes:function(){return this.$route.path.replace("/","")}},created:function(){var t=this;n.a.$on("collapse",function(e){t.collapse=e,t.showlogo=1!=e})},methods:{switchMenu:function(t){this.crmMenu=t}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sidebar"},[1==t.crmMenu?s("el-menu",{staticClass:"sidebar-el-menu",attrs:{"default-active":t.onRoutes,collapse:t.collapse,"background-color":"rgb(52, 63, 83)","text-color":"#f7f7f7","active-text-color":"#ff6333","unique-opened":"",router:""}},[t.showlogo?s("div",{attrs:{id:"logo"}},[s("span",{staticStyle:{"font-size":"16px"}},[t._v("\n                云纵CRM信息平台\n                ")])]):t._e(),t._v(" "),t.showlogo?t._e():s("div",{attrs:{id:"logo1"}},[s("span",{staticStyle:{"font-size":"16px"}},[t._v("\n                CRM\n            ")])]),t._v(" "),s("span",{staticClass:"title"},[t._v("主要")]),t._v(" "),t._l(t.crmItemone,function(e){return[e.subs?[s("el-submenu",{key:e.index,staticClass:"sidebar_submenu",attrs:{index:e.index}},[s("template",{slot:"title"},[s("i",{class:e.icon,staticStyle:{color:"#fff"}}),t._v(" \n                        "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])]),t._v(" "),t._l(e.subs,function(e,a){return s("el-menu-item",{key:a,staticClass:"sidebar_menu_item",attrs:{index:e.index}},[t._v("\n                        "+t._s(e.title)+"\n                    ")])})],2)]:[s("el-menu-item",{key:e.index,staticClass:"sidebar_menu_item",attrs:{index:e.index}},[s("i",{class:e.icon,staticStyle:{color:"#fff"}}),t._v(" \n                    "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])]]}),t._v(" "),s("span",{staticClass:"title"},[t._v("应用")]),t._v(" "),t._l(t.crmItemtwo,function(e){return[e.subs?[s("el-submenu",{key:e.index,staticClass:"sidebar_submenu",attrs:{index:e.index}},[s("template",{slot:"title"},[s("i",{class:e.icon,staticStyle:{color:"#fff"}}),t._v(" \n                        "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])]),t._v(" "),t._l(e.subs,function(e,a){return s("el-menu-item",{key:a,staticClass:"sidebar_menu_item",attrs:{index:e.index}},[t._v("\n                        "+t._s(e.title)+"\n                    ")])})],2)]:[s("el-menu-item",{key:e.index,staticClass:"sidebar_menu_item",attrs:{index:e.index}},[s("i",{class:e.icon,staticStyle:{color:"#fff"}}),t._v(" \n                    "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])]]}),t._v(" "),s("span",{staticClass:"title"},[t._v("设置")]),t._v(" "),t._l(t.crmItemlast,function(e){return[e.subs?[s("el-submenu",{key:e.index,staticClass:"sidebar_submenu",attrs:{index:e.index}},[s("template",{slot:"title"},[s("i",{class:e.icon,staticStyle:{color:"#fff"}}),t._v(" \n                        "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])]),t._v(" "),t._l(e.subs,function(e,a){return s("el-menu-item",{key:a,staticClass:"sidebar_menu_item",attrs:{index:e.index}},[t._v("\n                        "+t._s(e.title)+"\n                    ")])})],2)]:[s("el-menu-item",{key:e.index,staticClass:"sidebar_menu_item",attrs:{index:e.index}},[s("i",{class:e.icon,staticStyle:{color:"#fff"}}),t._v(" \n                    "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])]]})],2):t._e(),t._v(" "),2==t.crmMenu?s("el-menu",{staticClass:"sidebar-el-menu",attrs:{"default-active":t.onRoutes,collapse:t.collapse,"background-color":"rgb(52, 63, 83)","text-color":"#f7f7f7","active-text-color":"#ff6333","unique-opened":"",router:""}},[t.showlogo?s("div",{attrs:{id:"logo"}},[s("span",{staticStyle:{"font-size":"16px"}},[t._v("\n                云纵CRM信息平台\n                ")])]):t._e(),t._v(" "),t.showlogo?t._e():s("div",{attrs:{id:"logo1"}},[s("span",{staticStyle:{"font-size":"16px"}},[t._v("\n                CRM\n            ")])]),t._v(" "),s("span",{staticClass:"title"},[t._v("办公")]),t._v(" "),t._l(t.workItema,function(e){return[e.subs?[s("el-submenu",{key:e.index,staticClass:"sidebar_submenu",attrs:{index:e.index}},[s("template",{slot:"title"},[s("i",{class:e.icon,staticStyle:{color:"#fff"}}),t._v(" \n                        "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])]),t._v(" "),t._l(e.subs,function(e,a){return s("el-menu-item",{key:a,staticClass:"sidebar_menu_item",attrs:{index:e.index}},[t._v("\n                        "+t._s(e.title)+"\n                    ")])})],2)]:[s("el-menu-item",{key:e.index,staticClass:"sidebar_menu_item",attrs:{index:e.index}},[s("i",{class:e.icon,staticStyle:{color:"#fff"}}),t._v(" \n                    "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])]]})],2):t._e(),t._v(" "),3==t.crmMenu?s("el-menu",{staticClass:"sidebar-el-menu",attrs:{"default-active":t.onRoutes,collapse:t.collapse,"background-color":"rgb(52, 63, 83)","text-color":"#f7f7f7","active-text-color":"#ff6333","unique-opened":"",router:""}},[t.showlogo?s("div",{attrs:{id:"logo"}},[s("span",{staticStyle:{"font-size":"16px"}},[t._v("\n                云纵CRM信息平台\n            ")])]):t._e(),t._v(" "),t.showlogo?t._e():s("div",{attrs:{id:"logo1"}},[s("span",{staticStyle:{"font-size":"16px"}},[t._v("\n                CRM\n            ")])]),t._v(" "),s("span",{staticClass:"title"},[t._v("订货")]),t._v(" "),t._l(t.orderItema,function(e){return[e.subs?[s("el-submenu",{key:e.index,staticClass:"sidebar_submenu",attrs:{index:e.index}},[s("template",{slot:"title"},[s("i",{class:e.icon,staticStyle:{color:"#fff"}}),t._v(" \n                        "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])]),t._v(" "),t._l(e.subs,function(e,a){return s("el-menu-item",{key:a,staticClass:"sidebar_menu_item",attrs:{index:e.index}},[t._v("\n                        "+t._s(e.title)+"\n                    ")])})],2)]:[s("el-menu-item",{key:e.index,staticClass:"sidebar_menu_item",attrs:{index:e.index}},[s("i",{class:e.icon,staticStyle:{color:"#fff"}}),t._v(" \n                    "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])]]})],2):t._e(),t._v(" "),s("div",{class:t.collapse?"s_menu":"switch_menu"},[s("span",{directives:[{name:"show",rawName:"v-show",value:!t.collapse&&1!==t.crmMenu,expression:"!collapse && crmMenu !== 1"}],staticClass:"switch_tag",on:{click:function(e){t.switchMenu(1)}}},[t._v("CRM")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.collapse&&1!==t.crmMenu,expression:"collapse && crmMenu !== 1"}],staticClass:"switch_tag",on:{click:function(e){t.switchMenu(1)}}},[s("i",{staticClass:"mdi-account-multiple"})]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.collapse&&2!==t.crmMenu,expression:"!collapse && crmMenu !== 2"}],staticClass:"switch_tag",on:{click:function(e){t.switchMenu(2)}}},[t._v("办公")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.collapse&&2!==t.crmMenu,expression:"collapse && crmMenu !== 2"}],staticClass:"switch_tag",on:{click:function(e){t.switchMenu(2)}}},[s("i",{staticClass:"mdi-city"})]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.collapse&&3!==t.crmMenu,expression:"!collapse && crmMenu !== 3"}],staticClass:"switch_tag",on:{click:function(e){t.switchMenu(3)}}},[t._v("订货")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.collapse&&3!==t.crmMenu,expression:"collapse && crmMenu !== 3"}],staticClass:"switch_tag",on:{click:function(e){t.switchMenu(3)}}},[s("i",{staticClass:"mdi-cart"})])])],1)},staticRenderFns:[]};var p=s("VU/8")(d,u,!1,function(t){s("NhQd")},"data-v-3629dd64",null).exports,m={computed:{loadState:function(){return a.a.state.loadornot}},data:function(){return{collapse2:!1,messageList:null,tableData:[],tableData2:[],activeNames:["1"]}},created:function(){var t=this;n.a.$on("collapse2",function(e){t.collapse2=e})},mounted:function(){this.loadmessage()},watch:{loadState:function(t,e){this.$store.state.loadornot&&this.loadmessage()}},methods:{getTime:function(){this.$store.commit("getNowTime")},loadmessage:function(){this.getTime();var t=this,e=s("1nuA"),a={};a.remindTime=this.$store.state.nowtime,a.state="未读",o()({method:"post",url:t.$store.state.defaultHttp+"message/selectMessage.do?cId="+t.$store.state.iscId+"&pId="+t.$store.state.ispId,data:e.stringify(a)}).then(function(e){t.messageList=e.data,t.tableData=[],t.tableData2=[],t.tableData=e.data.dealtWith,t.tableData2=e.data.examine}).catch(function(t){})},leavemessage:function(t){this.$store.state.loadornot=!1,this.collapse2=!1,n.a.$emit("collapse2",this.collapse2)},openDetails:function(t,e){var a=this,i=s("1nuA"),l={};l.id=e.id,l.state="已读",o()({method:"post",url:a.$store.state.defaultHttp+"message/updateMessage.do?cId="+a.$store.state.iscId,data:i.stringify(l)}).then(function(t){a.$options.methods.loadmessage.bind(a)()}).catch(function(t){}),"visit"==e.type?(this.$store.state.visitdetailsData={submitData:{id:e.typeId}},this.$router.push({path:"/visitplandetails"}),n.a.$emit("id",e.typeId)):"workplan"==e.type?this.$router.push({path:"/missionplan"}):"customerTwo"==e.type?(this.$store.state.cluedetailsData={submitData:{id:e.typeId}},this.$router.push({path:"/clueDetails"}),n.a.$emit("clue",e.typeId)):"customerpool"==e.type&&(this.$store.state.cusdetailsData={submitData:{id:e.typeId}},this.$router.push({path:"/customerDetails"}),n.a.$emit("customer",e.typeId))}}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.collapse2,expression:"collapse2"}],staticClass:"message_c",attrs:{id:"message_c"},on:{mouseleave:function(e){t.leavemessage(e)}}},[t._m(0),t._v(" "),s("el-collapse",{staticClass:"message_b",attrs:{accordion:""},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[s("el-collapse-item",{attrs:{title:"待办",name:"1"}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[s("el-table-column",{attrs:{prop:"typeName",label:"事件","min-width":"118"}}),t._v(" "),s("el-table-column",{attrs:{prop:"remindContent",label:"待办内容","min-width":"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"hoverline",on:{click:function(s){t.openDetails(e.$index,e.row)}}},[t._v("\n                            "+t._s(e.row.remindContent)+"\n                        ")])]}}])})],1)],1),t._v(" "),s("el-collapse-item",{attrs:{title:"待审核",name:"2"}},[s("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{data:t.tableData2,border:"",stripe:""}},[s("el-table-column",{attrs:{prop:"typeName",label:"事件","min-width":"118"}}),t._v(" "),s("el-table-column",{attrs:{prop:"remindContent",label:"待审核内容","min-width":"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"hoverline",on:{click:function(s){t.openDetails(e.$index,e.row)}}},[t._v("\n                            "+t._s(e.row.remindContent)+"\n                        ")])]}}])})],1)],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"message_h"},[e("i",{staticClass:"mdi mdi-bell-outline"}),this._v(" "),e("span",[this._v("消息")])])}]};var f=s("VU/8")(m,h,!1,function(t){s("X8n8")},"data-v-8ba48aee",null).exports,v=s("Icdr");s("Vb+l"),s("Oq2I"),s("miEh");var g={store:a.a,computed:{loadData:function(){return a.a.state.clueChartsData}},data:function(){return{collapse:!1,collapse3:!1,stateData:[],sourceData:[],industryData:[],countryData:[],enterpriseScaleData:[],yearData:[]}},created:function(){var t=this;n.a.$on("collapse",function(e){t.collapse=e}),n.a.$on("collapse3",function(e){t.collapse3=e})},watch:{loadData:function(t,e){this.$store.state.clueChartsData&&this.loadChart()}},methods:{loadChart:function(){var t=this,e=this.$store.state.clueChartsData;this.stateData=[],this.sourceData=[],this.industryData=[],this.countryData=[],this.enterpriseScaleData=[],this.yearData=[],e&&(e.state.forEach(function(e){t.stateData.push({name:e.typeName,value:e.num})}),e.source.forEach(function(e){t.sourceData.push({name:e.typeName,value:e.num})}),e.industry.forEach(function(e){t.industryData.push({name:e.typeName,value:e.num})}),e.country.forEach(function(e){t.countryData.push({name:e.typeName,value:e.num})}),e.enterpriseScale.forEach(function(e){t.enterpriseScaleData.push({name:e.typeName,value:e.num})}),e.year.forEach(function(e){t.yearData.push({name:e.typeName,value:e.num})})),this.$options.methods.drawLine.bind(this)()},drawLine:function(){var t=v.init(document.getElementById("chart001")),e=v.init(document.getElementById("chart002")),s=v.init(document.getElementById("chart003")),a=v.init(document.getElementById("chart004")),i=v.init(document.getElementById("chart005")),o=v.init(document.getElementById("chart006"));t.setOption({title:{text:"线索状态",left:"center",top:10},tooltip:{trigger:"item",formatter:"{a}：{b} <br/> 数量：{c}"},series:[{name:"线索状态",type:"pie",radius:"60%",center:["50%","50%"],selectedMode:"single",data:this.stateData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),e.setOption({title:{text:"线索来源",left:"center",top:10},tooltip:{trigger:"item",formatter:"{a}：{b} <br/> 数量：{c}"},series:[{name:"线索来源",type:"pie",radius:"60%",center:["50%","50%"],selectedMode:"single",data:this.sourceData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),s.setOption({title:{text:"行业",left:"center",top:10},tooltip:{trigger:"item",formatter:"{a}：{b} <br/> 数量：{c}"},series:[{name:"行业",type:"pie",radius:"60%",center:["50%","50%"],selectedMode:"single",data:this.industryData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),a.setOption({title:{text:"城市区域",left:"center",top:10},tooltip:{trigger:"item",formatter:"{a}：{b} <br/> 数量：{c}"},series:[{name:"城市区域",type:"pie",radius:"60%",center:["50%","50%"],selectedMode:"single",data:this.countryData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),i.setOption({title:{text:"规模",left:"center",top:10},tooltip:{trigger:"item",formatter:"{a}：{b} <br/> 数量：{c}"},series:[{name:"规模",type:"pie",radius:"60%",center:["50%","50%"],selectedMode:"single",data:this.enterpriseScaleData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),o.setOption({title:{text:"成立时间",left:"center",top:10},tooltip:{trigger:"item",formatter:"{a}：{b} <br/> 数量：{c}"},series:[{name:"成立时间",type:"pie",radius:"60%",center:["50%","50%"],selectedMode:"single",data:this.yearData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.collapse3,expression:"collapse3"}],staticClass:"cluecharts_c",class:{"charts-collapse":this.collapse},attrs:{id:"cluecharts_c"}},[e("div",{staticClass:"cluecharts_b"},[e("div",{staticClass:"cluecharts_b_c"},[e("div",{style:{width:"300px",height:"300px"},attrs:{id:"chart001"}})]),this._v(" "),e("div",{staticClass:"cluecharts_b_c"},[e("div",{style:{width:"300px",height:"300px"},attrs:{id:"chart002"}})]),this._v(" "),e("div",{staticClass:"cluecharts_b_c"},[e("div",{style:{width:"300px",height:"300px"},attrs:{id:"chart003"}})]),this._v(" "),e("div",{staticClass:"cluecharts_b_c"},[e("div",{style:{width:"300px",height:"300px"},attrs:{id:"chart004"}})]),this._v(" "),e("div",{staticClass:"cluecharts_b_c"},[e("div",{style:{width:"300px",height:"300px"},attrs:{id:"chart005"}})]),this._v(" "),e("div",{staticClass:"cluecharts_b_c"},[e("div",{style:{width:"300px",height:"300px"},attrs:{id:"chart006"}})])])])},staticRenderFns:[]};var y=s("VU/8")(g,_,!1,function(t){s("EFoF")},"data-v-124df334",null).exports,b=s("Icdr");s("Vb+l"),s("Oq2I"),s("miEh");var w={store:a.a,computed:{loadData:function(){return a.a.state.customerChartsData}},data:function(){return{collapse:!1,collapse4:!1,stateData:[],sourceData:[],industryData:[],countryData:[],enterpriseScaleData:[],yearData:[],typeData:[]}},created:function(){var t=this;n.a.$on("collapse",function(e){t.collapse=e}),n.a.$on("collapse4",function(e){t.collapse4=e})},watch:{loadData:function(t,e){this.$store.state.customerChartsData&&this.loadChart()}},methods:{loadChart:function(){var t=this,e=this.$store.state.customerChartsData;this.stateData=[],this.sourceData=[],this.industryData=[],this.countryData=[],this.enterpriseScaleData=[],this.yearData=[],this.typeData=[],e&&(e.state.forEach(function(e){t.stateData.push({name:e.typeName,value:e.num})}),e.source.forEach(function(e){t.sourceData.push({name:e.typeName,value:e.num})}),e.industry.forEach(function(e){t.industryData.push({name:e.typeName,value:e.num})}),e.country.forEach(function(e){t.countryData.push({name:e.typeName,value:e.num})}),e.enterpriseScale.forEach(function(e){t.enterpriseScaleData.push({name:e.typeName,value:e.num})}),e.year.forEach(function(e){t.yearData.push({name:e.typeName,value:e.num})}),e.type.forEach(function(e){t.typeData.push({name:e.typeName,value:e.num})})),this.$options.methods.drawLine.bind(this)()},drawLine:function(){var t=b.init(document.getElementById("chart008")),e=b.init(document.getElementById("chart009")),s=b.init(document.getElementById("chart010")),a=b.init(document.getElementById("chart014")),i=b.init(document.getElementById("chart011")),o=b.init(document.getElementById("chart012")),n=b.init(document.getElementById("chart013"));t.setOption({title:{text:"客户状态",left:"center",top:10},tooltip:{trigger:"item",formatter:"{a}：{b} <br/> 数量：{c}"},series:[{name:"客户状态",type:"pie",radius:"60%",center:["50%","50%"],selectedMode:"single",data:this.stateData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),e.setOption({title:{text:"客户来源",left:"center",top:10},tooltip:{trigger:"item",formatter:"{a}：{b} <br/> 数量：{c}"},series:[{name:"客户来源",type:"pie",radius:"60%",center:["50%","50%"],selectedMode:"single",data:this.sourceData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),s.setOption({title:{text:"行业",left:"center",top:10},tooltip:{trigger:"item",formatter:"{a}：{b} <br/> 数量：{c}"},series:[{name:"行业",type:"pie",radius:"60%",center:["50%","50%"],selectedMode:"single",data:this.industryData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),a.setOption({title:{text:"城市区域",left:"center",top:10},tooltip:{trigger:"item",formatter:"{a}：{b} <br/> 数量：{c}"},series:[{name:"城市区域",type:"pie",radius:"60%",center:["50%","50%"],selectedMode:"single",data:this.countryData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),i.setOption({title:{text:"规模",left:"center",top:10},tooltip:{trigger:"item",formatter:"{a}：{b} <br/> 数量：{c}"},series:[{name:"规模",type:"pie",radius:"60%",center:["50%","50%"],selectedMode:"single",data:this.enterpriseScaleData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),o.setOption({title:{text:"成立时间",left:"center",top:10},tooltip:{trigger:"item",formatter:"{a}：{b} <br/> 数量：{c}"},series:[{name:"成立时间",type:"pie",radius:"60%",center:["50%","50%"],selectedMode:"single",data:this.yearData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),n.setOption({title:{text:"客户级别",left:"center",top:10},tooltip:{trigger:"item",formatter:"{a}：{b} <br/> 数量：{c}"},series:[{name:"客户级别",type:"pie",radius:"60%",center:["50%","50%"],selectedMode:"single",data:this.typeData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.collapse4,expression:"collapse4"}],staticClass:"customercharts_c",class:{"charts-collapse":t.collapse},attrs:{id:"customercharts_c"}},[s("div",{staticClass:"customercharts_b"},[s("div",{staticClass:"customercharts_b_c"},[s("div",{style:{width:"300px",height:"300px"},attrs:{id:"chart008"}})]),t._v(" "),s("div",{staticClass:"customercharts_b_c"},[s("div",{style:{width:"300px",height:"300px"},attrs:{id:"chart009"}})]),t._v(" "),s("div",{staticClass:"customercharts_b_c"},[s("div",{style:{width:"300px",height:"300px"},attrs:{id:"chart010"}})]),t._v(" "),s("div",{staticClass:"customercharts_b_c"},[s("div",{style:{width:"300px",height:"300px"},attrs:{id:"chart011"}})]),t._v(" "),s("div",{staticClass:"customercharts_b_c"},[s("div",{style:{width:"300px",height:"300px"},attrs:{id:"chart012"}})]),t._v(" "),s("div",{staticClass:"customercharts_b_c"},[s("div",{style:{width:"300px",height:"300px"},attrs:{id:"chart013"}})]),t._v(" "),s("div",{staticClass:"customercharts_b_c"},[s("div",{style:{width:"300px",height:"300px"},attrs:{id:"chart014"}})])])])},staticRenderFns:[]};var C=s("VU/8")(w,x,!1,function(t){s("iLbv")},"data-v-40c393f5",null).exports,S=s("Icdr");s("Vb+l"),s("Oq2I"),s("miEh");var I={store:a.a,computed:{loadData:function(){return a.a.state.oppChartsData}},data:function(){return{collapse:!1,collapse5:!1,rate:0,targetAmount:null,transactionAmount:null,cycle:[],stageAmount:[],amounts:[],weekAmount:[],moneyList:[],colList:[]}},created:function(){var t=this;n.a.$on("collapse",function(e){t.collapse=e}),n.a.$on("collapse5",function(e){t.collapse5=e})},watch:{loadData:function(t,e){this.$store.state.oppChartsData&&this.loadChart()}},methods:{loadChart:function(){var t=this,e=s("1nuA"),a=this.$store.state.oppChartsData;this.cycle=[],this.stageAmount=[],this.colList=[],this.moneyList=[],o()({method:"post",url:t.$store.state.defaultHttp+"opportunity/opportunityPredictionPeriod.do?cId="+t.$store.state.iscId,data:e.stringify(a)}).then(function(e){t.rate=e.data.achievement_rate,t.cycle.push({name:"预计7天成交金额",value:e.data.day7},{name:"预计15天成交金额",value:e.data.day15},{name:"预计本月成交金额",value:e.data.day30}),t.$options.methods.drawLine1.bind(t)()}).catch(function(t){}),o()({method:"post",url:t.$store.state.defaultHttp+"opportunity/opportunitySumAchievement.do?cId="+t.$store.state.iscId,data:e.stringify(a)}).then(function(e){e.data.forEach(function(e){var s=parseFloat(e.proportion);t.stageAmount.push({name:e.step_name,value:s}),t.colList.push({index:e.sort,name:e.step_name,col:e.col})}),t.$options.methods.drawLine2.bind(t)()}).catch(function(t){}),o()({method:"post",url:t.$store.state.defaultHttp+"opportunity/opportunityStageMoney.do?cId="+t.$store.state.iscId,data:e.stringify(a)}).then(function(e){t.amounts=e.data.opportunityStageMoney,t.amounts.forEach(function(e){e.title="金额",t.targetAmount=e.target,t.transactionAmount=e.deal}),t.moneyList.push(e.data.money),t.moneyList.push(e.data.moneyProportion),t.moneyList.push(e.data.num),t.moneyList.push(e.data.numProportion)}).catch(function(t){}),o()({method:"post",url:t.$store.state.defaultHttp+"opportunity/opportunityAchievementWeek.do?cId="+t.$store.state.iscId,data:e.stringify(a)}).then(function(e){t.weekAmount=e.data}).catch(function(t){})},drawLine1:function(){S.init(document.getElementById("chart015")).setOption({title:{text:"商机预测周期占比",left:"center",top:10},tooltip:{trigger:"item",formatter:"{a}：{b} <br/> 占比：{c}"},series:[{name:"商机周期",type:"pie",radius:"60%",center:["50%","50%"],selectedMode:"single",data:this.cycle,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},drawLine2:function(){S.init(document.getElementById("chart016")).setOption({title:{text:"商机阶段占比",left:"center",top:10},tooltip:{trigger:"item",formatter:"{a}：{b} <br/> 占比：{c}"},series:[{name:"商机阶段",type:"pie",radius:"60%",center:["50%","50%"],selectedMode:"single",data:this.stageAmount,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}}},$={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.collapse5,expression:"collapse5"}],staticClass:"oppCharts_c",class:{"charts-collapse":t.collapse},attrs:{id:"oppCharts_c"}},[s("div",{staticClass:"oppCharts_b"},[s("div",{staticClass:"oppCharts_b_c"},[s("div",{staticClass:"rateEntry"},[t._v("目标占比")]),t._v(" "),s("el-progress",{attrs:{type:"circle",percentage:t.rate,"stroke-width":8}}),t._v(" "),s("div",[s("span",{staticStyle:{display:"inline-block",width:"45%","text-align":"center"}},[t._v("目标金额："+t._s(t.targetAmount))]),t._v(" "),s("span",{staticStyle:{display:"inline-block",width:"45%","text-align":"center"}},[t._v("已完成金额："+t._s(t.transactionAmount))])])],1),t._v(" "),s("div",{staticClass:"oppCharts_b_c"},[s("div",{style:{width:"100%",height:"300px"},attrs:{id:"chart015"}})]),t._v(" "),s("div",{staticClass:"oppCharts_b_c"},[s("div",{style:{width:"100%",height:"300px"},attrs:{id:"chart016"}})])]),t._v(" "),s("div",{staticClass:"oppCharts_t"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.amounts,border:"",stripe:""}},[s("el-table-column",{attrs:{prop:"title",label:""}}),t._v(" "),s("el-table-column",{attrs:{prop:"target",label:"金额目标"}}),t._v(" "),s("el-table-column",{attrs:{prop:"opportunity_achievement",label:"预计当月成交金额"}}),t._v(" "),s("el-table-column",{attrs:{prop:"achievementProportion",label:"占比"}}),t._v(" "),s("el-table-column",{attrs:{prop:"deal",label:"当月已成交"}}),t._v(" "),s("el-table-column",{attrs:{prop:"dealProportion",label:"占比"}}),t._v(" "),s("el-table-column",{attrs:{prop:"difference",label:"差额"}}),t._v(" "),s("el-table-column",{attrs:{prop:"fail",label:"失败"}})],1)],1),t._v(" "),s("div",{staticClass:"oppCharts_t"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.moneyList,border:"",stripe:""}},[s("el-table-column",{attrs:{prop:"title",label:""}}),t._v(" "),t._l(t.colList,function(t){return[s("el-table-column",{key:t.index,attrs:{label:t.name,prop:t.col}})]})],2)],1),t._v(" "),s("div",{staticClass:"oppCharts_t"},[s("table",{staticClass:"el-table",staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[s("tr",[s("th",{}),t._v(" "),t._l(t.weekAmount,function(e,a){return s("th",{key:a,staticStyle:{"padding-left":"10px"}},[t._v(t._s(e.title))])})],2),t._v(" "),s("tr",[s("td",{staticStyle:{"padding-left":"10px"}},[t._v("预计成交金额")]),t._v(" "),t._l(t.weekAmount,function(e,a){return s("td",{key:a,staticStyle:{"padding-left":"10px"}},[t._v(t._s(e.opportunity_achievement))])})],2),t._v(" "),s("tr",[s("td",{staticStyle:{"padding-left":"10px"}},[t._v("与预计占比")]),t._v(" "),t._l(t.weekAmount,function(e,a){return s("td",{key:a,staticStyle:{"padding-left":"10px","font-weight":"bold"}},[t._v(t._s(e.estimateProportions))])})],2),t._v(" "),s("tr",[s("td",{staticStyle:{"padding-left":"10px"}},[t._v("与目标占比")]),t._v(" "),t._l(t.weekAmount,function(e,a){return s("td",{key:a,staticStyle:{"padding-left":"10px"}},[t._v(t._s(e.estimateTargetProportions))])})],2),t._v(" "),s("tr",[s("td",{staticStyle:{"padding-left":"10px"}},[t._v("实际成交")]),t._v(" "),t._l(t.weekAmount,function(e,a){return s("td",{key:a,staticStyle:{"padding-left":"10px"}},[t._v(t._s(e.deal))])})],2),t._v(" "),s("tr",[s("td",{staticStyle:{"padding-left":"10px"}},[t._v("与实际占比")]),t._v(" "),t._l(t.weekAmount,function(e,a){return s("td",{key:a,staticStyle:{"padding-left":"10px","font-weight":"bold"}},[t._v(t._s(e.actualProportion))])})],2),t._v(" "),s("tr",[s("td",{staticStyle:{"padding-left":"10px"}},[t._v("与目标占比")]),t._v(" "),t._l(t.weekAmount,function(e,a){return s("td",{key:a,staticStyle:{"padding-left":"10px"}},[t._v(t._s(e.actualTargetProportion))])})],2)])])])},staticRenderFns:[]};var D=s("VU/8")(I,$,!1,function(t){s("Ng/7")},"data-v-6ebfcd2d",null).exports,L={data:function(){return{tagsList:[],leftStyle:0}},inject:["reload"],methods:{clickMe:function(t){event.preventDefault()},isActive:function(t){return t===this.$route.fullPath},closeTags:function(t){var e=this.tagsList.splice(t,1)[0],s=this.tagsList[t]?this.tagsList[t]:this.tagsList[t-1];s?e.path===this.$route.fullPath&&this.$router.push(s.path):this.$router.push("/index"),this.$store.state.tagsList=this.tagsList},closeAll:function(){this.tagsList=[],this.$router.push("/index"),this.$store.state.tagsList=this.tagsList},closeOther:function(){var t=this,e=this.tagsList.filter(function(e){return e.path===t.$route.fullPath});this.tagsList=e,this.$store.state.tagsList=this.tagsList},setTags:function(t){var e=this;!this.tagsList.some(function(e){return e.path===t.fullPath})&&this.tagsList.push({title:t.meta.title,path:t.fullPath,name:t.matched[1].components.default.name});var s=this.tagsList.findIndex(function(e){return e.path===t.fullPath});this.$nextTick(function(){if(s===e.tagsList.length-1&&(e.leftStyle=e.$refs.tabs[s].offsetLeft+e.$refs.tabs[s].offsetWidth-e.$refs["outer-bar"].offsetWidth+e.$refs.rock.offsetWidth,e.leftStyle=-e.leftStyle),s<e.tagsList.length-1){var t=0;s<e.tagsList.length-2&&(t=e.$refs["inner-bar"].offsetWidth-e.$refs.tabs[s+2].offsetLeft),e.$refs["inner-bar"].offsetWidth+e.leftStyle-e.$refs["outer-bar"].offsetWidth+e.$refs.rock.offsetWidth>t&&(e.leftStyle=e.$refs.tabs[s+1].offsetLeft+e.$refs.tabs[s+1].offsetWidth-e.$refs["outer-bar"].offsetWidth+e.$refs.rock.offsetWidth,e.leftStyle=-e.leftStyle)}0===s&&(e.leftStyle=0),s>0&&e.$refs.tabs[s-1].offsetLeft<-e.leftStyle&&(e.leftStyle=-e.$refs.tabs[s-1].offsetLeft),e.leftStyle>0&&(e.leftStyle=0)}),this.$store.state.tagsList=this.tagsList,n.a.$emit("tags",this.tagsList)},handleTags:function(t){"other"===t?this.closeOther():this.closeAll()}},computed:{showTags:function(){return this.tagsList.length>0},TagsList:function(){return a.a.state.tagsList}},watch:{$route:function(t,e){this.setTags(t)}},created:function(){this.setTags(this.$route),this.$store.state.tagsList=this.tagsList}},M={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showTags?s("div",{ref:"outer-bar",staticClass:"tags",attrs:{id:"showBox"}},[s("ul",{ref:"inner-bar",style:{left:t.leftStyle+"px"}},t._l(t.TagsList,function(e,a){return s("li",{key:a,ref:"tabs",refInFor:!0,staticClass:"tags-li",class:{active:t.isActive(e.path)},on:{contextmenu:function(e){t.clickMe(a)}}},[s("router-link",{staticClass:"tags-li-title",attrs:{to:e.path}},[t._v("\n                "+t._s(e.title)+"\n            ")]),t._v(" "),s("span",{staticClass:"tags-li-icon",on:{click:function(e){t.closeTags(a)}}},[s("i",{staticClass:"el-icon-close"})])],1)})),t._v(" "),s("div",{ref:"rock",staticClass:"tags-close-box"},[s("el-dropdown",{on:{command:t.handleTags}},[s("el-button",{attrs:{size:"mini",type:"primary"}},[s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown",size:"small"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"other"}},[t._v("关闭其他")]),t._v(" "),s("el-dropdown-item",{attrs:{command:"all"}},[t._v("关闭所有")])],1)],1)],1)]):t._e()},staticRenderFns:[]};var k=s("VU/8")(L,M,!1,function(t){s("FOzF")},null,null).exports,A={name:"customfollow",store:a.a,computed:{searchList:function(){return a.a.state.customfollowId}},data:function(){return{msg:"customfollow.vue",cusfollow:!1,followData:[],follownumber:0}},watch:{searchList:function(t,e){this.loadData()},$route:function(t,e){this.cusfollow=!1}},created:function(){var t=this;n.a.$on("cusfollow",function(e){t.cusfollow=e})},methods:{loadData:function(){var t,e=this,a=s("1nuA"),i={},n=this.$store.state.customfollowId;n.customerpool_id?i.customerpool_id=n.customerpool_id:n.customertwoId&&(i.customertwoId=n.customertwoId),t=n.submitUrl,o()({method:"post",url:t,data:a.stringify(i)}).then(function(t){var s=t.data.map.success;s.forEach(function(t){t.userImagName&&(t.imgUrl=e.$store.state.systemHttp+"/upload/"+e.$store.state.iscId+"/"+t.userImagName),t.userImagName&&null!=t.userImagName||(t.imgUrl=e.$store.state.systemHttp+"/upload/staticImg/avatar.jpg"),t.imgName&&null!==t.imgName&&(t.picture_detail=e.$store.state.systemHttp+"/upload/"+e.$store.state.iscId+"/"+t.imgName),t.enclosureName&&null!==t.enclosureName&&(t.enclosureUrl=e.$store.state.systemHttp+"/upload/"+e.$store.state.iscId+"/"+t.enclosureName),t.followContent=t.followContent.replace(/\n/g,"<br/>")}),e.followData=s,e.follownumber=t.data.count}).catch(function(t){})},closeFollow:function(){this.cusfollow=!1}}},N={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.cusfollow,expression:"cusfollow"}],staticClass:"cf_c"},[s("div",{staticClass:"cf_close",on:{click:t.closeFollow}},[s("i",{staticClass:"el-icon-circle-close-outline"})]),t._v(" "),t._l(t.followData,function(e){return s("ul",{key:e.followId,staticClass:"followrecord"},[s("li",{staticClass:"recordicon"},[s("img",{staticClass:"detail_portrait",attrs:{src:e.imgUrl,alt:e.private_employee,title:e.private_employee}})]),t._v(" "),s("li",{staticClass:"verticalline"}),t._v(" "),s("li",{staticClass:"recordcontent"},[s("div",{staticClass:"left_more"},[s("p",[s("span",{staticClass:"de_span_2"},[t._v(t._s(e.contacts[0].name))]),t._v(" "),s("span",{staticClass:"de_span_1"},[t._v(" | ")]),t._v(" "),s("span",{staticClass:"de_span_1"},[t._v(t._s(e.createTime))]),t._v(" "),e.contactTime?s("span",{staticClass:"de_span_1"},[t._v("  --  ")]):t._e(),t._v(" "),s("span",{staticClass:"de_span_1"},[t._v(t._s(e.contactTime))]),t._v("\n                      \n                    "),s("span",{staticClass:"de_span_2"},[t._v(t._s(e.state))]),t._v("\n                      \n                    "),s("span",{staticClass:"de_span_3"},[t._v("  "+t._s(e.followType)+"  ")])]),t._v(" "),s("div",{staticStyle:{"margin-top":"15px","margin-bottom":"15px"},domProps:{innerHTML:t._s(e.followContent)}}),t._v(" "),e.imgName?s("div",{staticClass:"imgbox_two"},[s("img",{attrs:{src:e.picture_detail,alt:"图片",width:"80",height:"80"}})]):t._e(),t._v(" "),e.enclosureName?s("div",[s("a",{attrs:{href:e.enclosureUrl,download:""}},[t._v(t._s(e.enclosureOldName))])]):t._e(),t._v(" "),s("p",{staticClass:"de_span_1"},[t._v(t._s(e.inputType))])])])])})],2)},staticRenderFns:[]};var F={data:function(){return{tagsList:[],collapse:!1}},components:{vHead:c,vSidebar:p,vTags:k,vMessage:f,vCluecharts:y,vCustomercharts:C,vCustomfollow:s("VU/8")(A,N,!1,function(t){s("9sSk")},null,null).exports,vOppcharts:D},created:function(){var t=this;n.a.$on("collapse",function(e){t.collapse=e}),n.a.$on("tags",function(e){for(var s=[],a=0,i=e.length;a<i;a++)e[a].name&&s.push(e[a].name);t.tagsList=s})}},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("v-message"),t._v(" "),s("v-cluecharts"),t._v(" "),s("v-customercharts"),t._v(" "),s("v-customfollow"),t._v(" "),s("v-oppcharts"),t._v(" "),s("v-head"),t._v(" "),s("v-sidebar"),t._v(" "),s("div",{staticClass:"content-box",class:{"content-collapse":t.collapse}},[s("v-tags"),t._v(" "),s("div",{staticClass:"content"},[s("transition",{attrs:{name:"move",mode:"out-in"}},[s("keep-alive",{attrs:{include:t.tagsList}},[s("router-view")],1)],1)],1)],1)],1)},staticRenderFns:[]};var O=s("VU/8")(F,E,!1,function(t){s("IQe9")},null,null);e.default=O.exports},SDo3:function(t,e){},"Vb+l":function(t,e,s){var a=s("Icdr"),i=s("/gxq");s("/vN/"),s("1A4n");var o=s("XRkS"),n=s("ri8f"),l=s("9Z3y"),r=s("l4Op");o("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),a.registerVisual(n("pie")),a.registerLayout(i.curry(l,"pie")),a.registerProcessor(r("pie"))},X8n8:function(t,e){},XRkS:function(t,e,s){var a=s("Icdr"),i=s("/gxq");t.exports=function(t,e){i.each(e,function(e){e.update="updateView",a.registerAction(e,function(s,a){var i={};return a.eachComponent({mainType:"series",subType:t,query:s},function(t){t[e.method]&&t[e.method](s.name,s.dataIndex);var a=t.getData();a.each(function(e){var s=a.getName(e);i[s]=t.isSelected(s)||!1})}),{name:s.name,selected:i}})})}},XhgW:function(t,e,s){var a=s("3h1/");function i(t,e,s,a,i,o,n){function l(e,s,a,i){for(var o=e;o<s;o++)if(t[o].y+=a,o>e&&o+1<s&&t[o+1].y>t[o].y+t[o].height)return void r(o,a/2);r(s-1,a/2)}function r(e,s){for(var a=e;a>=0&&(t[a].y-=s,!(a>0&&t[a].y>t[a-1].y+t[a-1].height));a--);}function c(t,e,s,a,i,o){for(var n=e?Number.MAX_VALUE:0,l=0,r=t.length;l<r;l++)if("center"!==t[l].position){var c=Math.abs(t[l].y-a),d=t[l].len,u=t[l].len2,p=c<i+d?Math.sqrt((i+d+u)*(i+d+u)-c*c):Math.abs(t[l].x-s);e&&p>=n&&(p=n-10),!e&&p<=n&&(p=n+10),t[l].x=s+p*o,n=p}}t.sort(function(t,e){return t.y-e.y});for(var d,u=0,p=t.length,m=[],h=[],f=0;f<p;f++)(d=t[f].y-u)<0&&l(f,p,-d),u=t[f].y+t[f].height;n-u<0&&r(p-1,u-n);for(f=0;f<p;f++)t[f].y>=s?h.push(t[f]):m.push(t[f]);c(m,!1,e,s,a,i),c(h,!0,e,s,a,i)}t.exports=function(t,e,s,o){var n,l,r=t.getData(),c=[],d=!1;r.each(function(s){var i,o,u,p,m=r.getItemLayout(s),h=r.getItemModel(s),f=h.getModel("label"),v=f.get("position")||h.get("emphasis.label.position"),g=h.getModel("labelLine"),_=g.get("length"),y=g.get("length2"),b=(m.startAngle+m.endAngle)/2,w=Math.cos(b),x=Math.sin(b);n=m.cx,l=m.cy;var C="inside"===v||"inner"===v;if("center"===v)i=m.cx,o=m.cy,p="center";else{var S=(C?(m.r+m.r0)/2*w:m.r*w)+n,I=(C?(m.r+m.r0)/2*x:m.r*x)+l;if(i=S+3*w,o=I+3*x,!C){var $=S+w*(_+e-m.r),D=I+x*(_+e-m.r),L=$+(w<0?-1:1)*y;i=L+(w<0?-5:5),o=D,u=[[S,I],[$,D],[L,D]]}p=C?"center":w>0?"left":"right"}var M=f.getFont(),k=f.get("rotate")?w<0?-b+Math.PI:-b:0,A=t.getFormattedLabel(s,"normal")||r.getName(s),N=a.getBoundingRect(A,M,p,"top");d=!!k,m.label={x:i,y:o,position:v,height:N.height,len:_,len2:y,linePoints:u,textAlign:p,verticalAlign:"middle",rotation:k,inside:C},C||c.push(m.label)}),!d&&t.get("avoidLabelOverlap")&&function(t,e,s,a,o,n){for(var l=[],r=[],c=0;c<t.length;c++)t[c].x<e?l.push(t[c]):r.push(t[c]);for(i(r,e,s,a,1,0,n),i(l,e,s,a,-1,0,n),c=0;c<t.length;c++){var d=t[c].linePoints;if(d){var u=d[1][0]-d[2][0];t[c].x<e?d[2][0]=t[c].x+3:d[2][0]=t[c].x-3,d[1][1]=d[2][1]=t[c].y,d[1][0]=d[2][0]+u}}}(c,n,l,e,0,o)}},iLbv:function(t,e){},kQD9:function(t,e,s){var a=s("/gxq"),i={updateSelectedMap:function(t){this._targetList=a.isArray(t)?t.slice():[],this._selectTargetMap=a.reduce(t||[],function(t,e){return t.set(e.name,e),t},a.createHashMap())},select:function(t,e){var s=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(t){t.selected=!1}),s&&(s.selected=!0)},unSelect:function(t,e){var s=null!=e?this._targetList[e]:this._selectTargetMap.get(t);s&&(s.selected=!1)},toggleSelected:function(t,e){var s=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=s)return this[s.selected?"unSelect":"select"](t,e),s.selected},isSelected:function(t,e){var s=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return s&&s.selected}};t.exports=i}});