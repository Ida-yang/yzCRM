webpackJsonp([66],{BtsG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("INCx"),s=a.n(i),o=a("wtEF"),l=a("mtWM"),n=a.n(l),r=(a("9igS"),a("PQp9")),c={name:"productdetails",store:o.a,components:{UE:r.a},filters:{rounding:function(t){if(t){var e=s()(t).toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,"),a=".00",i=t.toString().split(".");return 2===i.length?1===(a=i[1].toString()).length?e+"."+a+"0":e+"."+a:e+a}}},data:function(){return{detailData:null,activeName:"first",probasicData:{},fieldData:[],introduction:"",itemImgList:[],proItemData:[{index:0,imgfile:"",spec1:"",barcode:"",erpDocking:""}],historyData:[],dialogVisible:!1,dialogImageUrl:""}},activated:function(){this.loadData()},methods:{loadData:function(){var t=this,e=a("1nuA");this.detailData=this.$store.state.productdetailsData;var i={goodsId:this.detailData.id},s={label:4,id:this.detailData.id},o={page:1,limit:99999999,id:this.detailData.id};n()({method:"post",url:t.$store.state.defaultHttp+"goods/searchByGoodsId.do?cId="+t.$store.state.iscId,data:e.stringify(i)}).then(function(e){t.probasicData=e.data.goods,t.introduction=e.data.goodsDesc.introduction,t.proItemData=e.data.itemList,t.proItemData.forEach(function(e){e.image?e.imgfile=t.$store.state.systemHttp+"product/"+t.$store.state.iscId+"/"+e.image:e.imgfile="../../../../static/img/noProduct.png",!e.spec1||e.spec2||e.spec3?e.spec1&&e.spec2&&!e.spec3?e.specList=e.spec1+"/"+e.spec2:e.spec1&&e.spec2&&e.spec3?e.specList=e.spec1+"/"+e.spec2+"/"+e.spec3:e.specList=null:e.specList=e.spec1}),"[]"==e.data.goodsDesc.itemImages?t.itemImgList=[{name:"noProduct.png",value:"noProduct.png",imgfile:"../../../../static/img/noProduct.png"}]:(t.itemImgList=JSON.parse(e.data.goodsDesc.itemImages),t.itemImgList.forEach(function(e){e.value&&(e.imgfile=t.$store.state.systemHttp+"product/"+t.$store.state.iscId+"/"+e.value)}))}).catch(function(t){}),n()({method:"post",url:t.$store.state.defaultHttp+"field/information.do?cId="+t.$store.state.iscId,data:e.stringify(s)}).then(function(e){t.fieldData=e.data}).catch(function(t){}),n()({method:"post",url:t.$store.state.defaultHttp+"customerpool/selectBuyGoodsByCustomerpoolId.do?cId="+t.$store.state.iscId,data:e.stringify(o)}).then(function(e){var a=e.data.map.success;a.forEach(function(t){for(var e in t.aaa=JSON.parse(t.spec),t.goodspec=[],t.aaa)"null"!==e&&"undefined"!==e&&t.goodspec.push({label:e,value:t.aaa[e]})}),t.historyData=a}).catch(function(t){})},showImg:function(t,e){this.dialogImageUrl=e.imgfile,this.dialogVisible=!0}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail_c"},[a("div",{staticClass:"bottom"},[a("div",{staticClass:"pro_detail"},[a("el-carousel",{staticClass:"first_left",attrs:{"indicator-position":"outside"}},t._l(t.itemImgList,function(e,i){return a("el-carousel-item",{key:i},[a("img",{attrs:{src:e.imgfile,alt:"图片",width:"300",height:"240"},on:{click:function(a){t.showImg(a,e)}}})])})),t._v(" "),a("ul",{staticClass:"first_right"},[a("li",{staticStyle:{flex:"0 0 100%"}},[t._v("产品名称："+t._s(t.probasicData.goodsName))]),t._v(" "),a("li",[t._v("产品分类："+t._s(t.probasicData.category))]),t._v(" "),a("li",[t._v("单位："+t._s(t.probasicData.unit))]),t._v(" "),a("li",[t._v("产品品牌："+t._s(t.probasicData.brand))]),t._v(" "),a("li",[t._v("产品属性："+t._s(t.probasicData.attribute))]),t._v(" "),a("li",[t._v("销售价格："+t._s(t.probasicData.price))]),t._v(" "),a("li",[t._v("标准成本价："+t._s(t.probasicData.costPrice))]),t._v(" "),a("li",[t._v("是否可见："),1==t.probasicData.see?a("span",[t._v("可见")]):t._e(),0==t.probasicData.see?a("span",[t._v("不可见")]):t._e()]),t._v(" "),a("li",[t._v("起订量："+t._s(t.probasicData.startQuantity))]),t._v(" "),a("li",[t._v("交货天数："+t._s(t.probasicData.deliveryDays))]),t._v(" "),a("li",{staticStyle:{flex:"0 0 100%"}},[t._v("规格描述："+t._s(t.probasicData.describe))]),t._v(" "),a("li",{staticStyle:{flex:"0 0 100%"}},[t._v("产品备注："+t._s(t.probasicData.remark))]),t._v(" "),t._l(t.fieldData,function(e,i){return a("li",{key:i},[t._v("\n                    "+t._s(e.name)+"："),a("span",[t._v(t._s(e.value))])])})],2)],1)]),t._v(" "),a("div",{staticClass:"bottom"},[a("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本资料",name:"first"}},[a("div",{staticClass:"first_bottom"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.proItemData,border:"",stripe:""}},[a("el-table-column",{attrs:{"header-align":"center",align:"center",type:"index","min-width":"45"}}),t._v(" "),a("el-table-column",{attrs:{label:"主图",prop:"imgfile",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:e.row.imgfile,alt:t.probasicData.goodsName,width:"100",height:"100"},on:{click:function(a){t.showImg(a,e.row)}}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"产品编码",prop:"goodsCode","min-width":"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"规格",prop:"specList","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                "+t._s(e.row.specList)+"\n                            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"价格(元)",prop:"price","min-width":"130"}}),t._v(" "),a("el-table-column",{attrs:{label:"条形码",prop:"barcode","min-width":"130"}}),t._v(" "),a("el-table-column",{attrs:{label:"ERP对接码",prop:"erpDocking","min-width":"130"}})],1)],1)]),t._v(" "),a("el-tab-pane",{staticClass:"first_c",attrs:{label:"产品详情描述",name:"second"}},[a("div",{staticClass:"components-container",domProps:{innerHTML:t._s(t.introduction)}})]),t._v(" "),a("el-tab-pane",{attrs:{label:"历史销售价格",name:"third"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.historyData,border:"",stripe:""}},[a("el-table-column",{attrs:{"header-align":"center",fixed:"",align:"center",type:"index",width:"45"}}),t._v(" "),a("el-table-column",{attrs:{label:"订单日期",prop:"orderTime","min-width":"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"产品名称",prop:"goodsName","min-width":"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"规格描述",prop:"describe","min-width":"110"}}),t._v(" "),a("el-table-column",{attrs:{label:"规格编码",prop:"goodsCode","min-width":"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"规格属性",prop:"spec","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.goodspec,function(e,i){return a("span",{key:i},[0!==i?a("span",[t._v("/")]):t._e(),t._v(t._s(e.value))])})}}])}),t._v(" "),a("el-table-column",{attrs:{label:"数量",prop:"num","min-width":"130"}}),t._v(" "),a("el-table-column",{attrs:{label:"单价",prop:"price","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(t._f("rounding")(e.row.price))+"\n                        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"金额",prop:"amountOfMoney","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(t._f("rounding")(e.row.amountOfMoney))+"\n                        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"折扣",prop:"discount","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(e.row.discount)+" %\n                        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"折扣额",prop:"discountAmount","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(t._f("rounding")(e.row.discountAmount))+"\n                        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"税率",prop:"taxRate","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(e.row.taxRate)+" %\n                        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"税额",prop:"taxAmount","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(t._f("rounding")(e.row.taxAmount))+"\n                        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"税后金额",prop:"taxAfter","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(t._f("rounding")(e.row.taxAfter))+"\n                        ")]}}])})],1)],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(t){a("V8VY")},null,null);e.default=u.exports},V8VY:function(t,e){}});