webpackJsonp([38],{"L+9v":function(e,t){},S9mX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("wtEF"),s=a("mtWM"),l=a.n(s),n=(a("mw3O"),{name:"programme",props:{totalNum:Number},store:o.a,computed:{tableData:function(){return o.a.state.programmeList},tableNumber:function(){return o.a.state.programmeListnumber}},data:function(){return{datalist:[],defaultProps:{label:"deptname",children:"next"},activename:"first",depGoalsData:[],goalsData:[],depGoalsName:null,depGoalsNum:null,newform:{second_id:null,secondname:null,id:null,projectName:null,time:null,state:"启用",private_employee:null,createTime:null,clueDay:0,customerDay:0,clueNum:0,customerNum:0,opportunityNum:0},goalsForm:{},goalsyear:null,searchList:{state:null,secondid:null},filterList:null,checklist:null,idArr:{id:null},roleList:null,clickdata:null,page:1,limit:20,dialogVisible:!1,dialogVisible2:!1,dialogVisible3:!1,rules:{projectName:[{required:!0,message:"方案名称不能为空",trigger:"blur"}],time:[{required:!0,message:"请选择年份",trigger:"blur"}]},nullvalue:null,paramList:{},depts:null,showparams:!1,showGoals:!1}},activated:function(){this.loadGoals()},mounted:function(){var e=(new Date).getFullYear();this.goalsyear=e.toString(),this.loadGoals(),this.loadData()},methods:{loadData:function(){var e=this,t=a("1nuA"),o={type:"方案"},s={type:"方案",state:1};l()({method:"post",url:e.$store.state.defaultHttp+"userPageInfo/getAllUserPage.do?cId="+e.$store.state.iscId+"&pId="+e.$store.state.ispId,data:t.stringify(o)}).then(function(t){e.filterList=t.data}).catch(function(e){}),l()({method:"post",url:e.$store.state.defaultHttp+"userPageInfo/getUserPage.do?cId="+e.$store.state.iscId+"&pId="+e.$store.state.ispId,data:t.stringify(s)}).then(function(t){e.checklist=t.data}).catch(function(e){}),l()({method:"get",url:e.$store.state.defaultHttp+"dept/getDeptNodeTree.do?cId="+e.$store.state.iscId}).then(function(t){e.datalist=t.data.map.success}).catch(function(e){})},reloadTable:function(){var e=this,t=a("1nuA"),o={};o.page=this.page,o.limit=this.limit,o.state=this.searchList.state,o.secondid=this.searchList.secondid,l()({method:"post",url:e.$store.state.defaultHttp+"project/getProject.do?cId="+e.$store.state.iscId,data:t.stringify(o)}).then(function(t){e.$store.state.programmeList=t.data.map.success,e.$store.state.programmeListnumber=t.data.count}).catch(function(e){})},loadGoals:function(){var e=this,t=a("1nuA"),o={};o.secondid=this.searchList.secondid,o.year=this.goalsyear,l()({method:"post",url:e.$store.state.defaultHttp+"contractMoneyProject/selectByYearAndSecondid.do?cId="+e.$store.state.iscId,data:t.stringify(o)}).then(function(t){if(t.data.contractMoneyProject.length){if(e.searchList.secondid){var a=t.data.statistics;e.goalsData=t.data.contractMoneyProject,e.depGoalsData=[t.data.statistics],e.depGoalsName=a.deptname,e.depGoalsNum=a.month01+a.month02+a.month03+a.month04+a.month05+a.month06+a.month07+a.month08+a.month09+a.month10+a.month11+a.month12}}else e.searchList.secondid&&(e.goalsData=[],e.depGoalsData=[{deptname:e.newform.secondname,month01:0,month02:0,month03:0,month04:0,month05:0,month06:0,month07:0,month08:0,month09:0,month10:0,month11:0,month12:0}],e.depGoalsName=e.newform.secondname,e.depGoalsNum=0)}).catch(function(e){})},reloadNum:function(){var e=this,t=a("1nuA"),o={};o.secondid=this.searchList.secondid,l()({method:"post",url:e.$store.state.defaultHttp+"restrictiveConditions/selectBySecondid.do?cId="+e.$store.state.iscId,data:t.stringify(o)}).then(function(t){var a=t.data.map.restrictiveConditions;a&&(e.paramList=a),e.searchList.secondid&&(e.showparams=!0)}).catch(function(e){})},handleNodeClick:function(e){this.searchList.secondid=e.deptid,this.clickdata=e,this.depts=e.deptname,this.newform.second_id=e.deptid,this.newform.secondname=e.deptname,"first"==this.activename?(this.$options.methods.loadGoals.bind(this)(!0),this.showGoals=!0):"second"==this.activename?this.$options.methods.reloadTable.bind(this)(!0):"third"==this.activename&&(this.$options.methods.reloadNum.bind(this)(!0),this.showparams=!0)},selectInfo:function(e){this.multipleSelection=e;var t=e,a=[new Array];t.forEach(function(e){0!=e.id&&a.push(e.id)}),this.idArr.id=a},handleAdd:function(){var e=this;this.clickdata?""==this.clickdata.next?l()({method:"get",url:e.$store.state.defaultHttp+"projectJurisdiction/insert.do"}).then(function(t){t.data.msg&&"error"==t.data.msg?e.$message({message:"对不起，您没有该权限，请联系管理员开通",type:"error"}):(e.newform.projectName=null,e.newform.time=null,e.newform.private_employee=e.$store.state.user,e.dialogVisible=!0)}).catch(function(e){}):e.$message({message:"该部门下还有子部门，请选择子部门",type:"error"}):e.$message({message:"请先选择部门，再添加方案",type:"info"})},addprogramme:function(){var e=this,t=a("1nuA"),o={};o.secondid=this.newform.second_id,o.projectName=this.newform.projectName,o.time=this.newform.time+"-01-01",o.state=this.newform.state;var s=!1;[this.newform].forEach(function(t){t.projectName||(e.$message({message:"方案名称不能为空",type:"error"}),s=!0),t.time||(e.$message({message:"年份不能为空",type:"error"}),s=!0)}),s||l()({method:"post",url:e.$store.state.defaultHttp+"project/insertProject.do?cId="+e.$store.state.iscId+"&pId="+e.$store.state.ispId,data:t.stringify(o)}).then(function(t){t.data.code&&200==t.data.code?(e.$message({message:"添加方案成功",type:"success"}),e.dialogVisible=!1,e.$options.methods.reloadTable.bind(e)(!0)):e.$message({message:t.data.msg,type:"error"})}).catch(function(t){e.$message.error("添加失败,请重新添加")})},handleUpdate:function(e,t){var a=this;l()({method:"get",url:a.$store.state.defaultHttp+"projectJurisdiction/update.do"}).then(function(e){e.data.msg&&"error"==e.data.msg?a.$message({message:"对不起，您没有该权限，请联系管理员开通",type:"error"}):(a.newform.id=t.id,a.newform.secondid=t.second_id,a.newform.secondname=t.deptname,a.newform.deptid=t.deptid,a.newform.projectName=t.projectName,a.newform.time=t.time+"-01-01",a.newform.state=t.state,a.newform.private_employee=t.private_employee,a.newform.createTime=t.createTime,a.dialogVisible2=!0)}).catch(function(e){})},updateprogramme:function(){var e=this,t=a("1nuA"),o={};o.id=this.newform.id,o.deptid=this.newform.deptid,o.second_id=this.newform.second_id,o.projectName=this.newform.projectName,o.time=this.newform.time,o.state=this.newform.state,o.createTime=this.newform.createTime;var s=!1;[this.newform].forEach(function(t){t.projectName||(e.$message({message:"方案名称不能为空",type:"error"}),s=!0),t.time||(e.$message({message:"年份不能为空",type:"error"}),s=!0)}),s||l()({method:"post",url:e.$store.state.defaultHttp+"project/updateProject.do?cId="+e.$store.state.iscId+"&pId="+e.$store.state.ispId,data:t.stringify(o)}).then(function(t){t.data.code&&200==t.data.code?(e.$message({message:"修改方案成功",type:"success"}),e.dialogVisible2=!1,e.$options.methods.reloadTable.bind(e)(!0)):e.$message({message:t.data.msg,type:"error"})}).catch(function(t){e.$message.error("修改失败,请重新修改")})},openDetails:function(e,t){var a={};a.submitData={id:t.id},this.$store.state.prodetailsData=a,this.$router.push({path:"/programmeDetails"})},handledeletes:function(){var e=this,t=this,o=a("1nuA"),s=[];s.id=this.idArr.id,s.shift(0),s.id?t.$confirm("确认删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){e.value;l()({method:"post",url:t.$store.state.defaultHttp+"project/deleteProject.do?cId="+t.$store.state.iscId,data:o.stringify(s)}).then(function(e){e.data.code&&200==e.data.code?(t.$message({message:"删除成功",type:"success"}),t.$options.methods.reloadTable.bind(t)(!0)):e.data.msg&&"error"==e.data.msg?t.$message({message:"对不起，您没有该权限，请联系管理员开通",type:"error"}):t.$message({message:e.data.msg,type:"error"})}).catch(function(e){t.$message.error("删除失败,请重新删除")})}).catch(function(){e.$message({type:"info",message:"取消删除"})}):t.$message({type:"error",message:"请先选择要删除的方案"})},handledelete:function(e,t){var o=this,s=this,n=a("1nuA"),r=[];r.id=t.id,s.$confirm("确认删除 ["+t.projectName+"] 吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){e.value;l()({method:"post",url:s.$store.state.defaultHttp+"project/deleteProject.do?cId="+s.$store.state.iscId,data:n.stringify(r)}).then(function(e){e.data.code&&200==e.data.code?(s.$message({message:"删除成功",type:"success"}),s.$options.methods.reloadTable.bind(s)(!0)):e.data.msg&&"error"==e.data.msg?s.$message({message:"对不起，您没有该权限，请联系管理员开通",type:"error"}):s.$message({message:e.data.msg,type:"error"})}).catch(function(e){s.$message.error("删除失败,请重新删除")})}).catch(function(){o.$message({type:"info",message:"取消删除["+t.projectName+"]"})})},changeNum:function(e){var t=this,o=a("1nuA"),s={};s.id=this.paramList.id,s.secondid=this.paramList.secondid,s.clueDay=this.paramList.clueDay,s.clueNum=this.paramList.clueNum,s.customerDay=this.paramList.customerDay,s.customerNum=this.paramList.customerNum,s.opportunityNum=this.paramList.opportunityNum,l()({method:"post",url:t.$store.state.defaultHttp+"restrictiveConditions/updateRestrictiveConditionsById.do?cId="+t.$store.state.iscId+"&pId="+t.$store.state.ispId,data:o.stringify(s)}).then(function(e){e.data.code&&200==e.data.code?t.$message({type:"success",message:"修改成功"}):e.data.msg&&"error"==e.data.msg?t.$message({message:"对不起，您没有该权限，请联系管理员开通",type:"error"}):t.$message({message:e.data.msg,type:"error"})}).catch(function(e){})},hangleChange:function(e,t){var o=this,s=a("1nuA"),n={};n.pageInfoId=t.pageInfoId,n.state=1==e?1:0,l()({method:"post",url:o.$store.state.defaultHttp+"userPageInfo/updateUserPageByid.do?cId="+o.$store.state.iscId+"&pId="+o.$store.state.ispId,data:s.stringify(n)}).then(function(e){e.data&&"success"==e.data&&o.$options.methods.loadData.bind(o)(!0)}).catch(function(e){})},changeYear:function(e){this.goalsyear=e,this.$options.methods.loadGoals.bind(this)()},handleEdit:function(e,t){this.goalsForm.id=t.id,this.goalsForm.pId=t.pId,this.goalsForm.private_employee=t.private_employee,this.goalsForm.month01=t.month01,this.goalsForm.month02=t.month02,this.goalsForm.month03=t.month03,this.goalsForm.month04=t.month04,this.goalsForm.month05=t.month05,this.goalsForm.month06=t.month06,this.goalsForm.month07=t.month07,this.goalsForm.month08=t.month08,this.goalsForm.month09=t.month09,this.goalsForm.month10=t.month10,this.goalsForm.month11=t.month11,this.goalsForm.month12=t.month12,this.dialogVisible3=!0},updategoals:function(){var e=this,t=a("1nuA"),o=this.goalsForm;l()({method:"post",url:e.$store.state.defaultHttp+"contractMoneyProject/updateContractMoneyProject.do?cId="+e.$store.state.iscId,data:t.stringify(o)}).then(function(t){t.data.code&&"200"==t.data.code?(e.$message({message:"编辑成功",type:"success"}),e.dialogVisible3=!1,e.$options.methods.loadGoals.bind(e)()):e.$message({message:t.data.msg,type:"error"})}).catch(function(e){})},tabClick:function(e){0==e.index?this.$options.methods.loadGoals.bind(this)():1==e.index?this.$options.methods.reloadTable.bind(this)():2==e.index&&this.$options.methods.reloadNum.bind(this)()},search:function(){this.$options.methods.reloadTable.bind(this)(!0)},handleSizeChange:function(e){this.limit=e,this.$options.methods.reloadTable.bind(this)(!1)},handleCurrentChange:function(e){this.page=e,this.$options.methods.reloadTable.bind(this)(!1)}}}),r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contentall"},[a("div",{staticClass:"otherleftcontent"},[a("el-tree",{attrs:{"node-key":"deptid","highlight-current":"","default-expand-all":"",data:e.datalist,props:e.defaultProps,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick}})],1),e._v(" "),a("div",{staticClass:"centercontent"}),e._v(" "),a("div",{staticClass:"otherightcontent"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.tabClick},model:{value:e.activename,callback:function(t){e.activename=t},expression:"activename"}},[a("el-tab-pane",{attrs:{label:"部门/个人目标",name:"first"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showGoals,expression:"!showGoals"}],staticClass:"entry"},[a("p",{staticClass:"entry_name"},[e._v("请选择部门，查看部门/个人目标")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showGoals,expression:"showGoals"}]},[a("span",{staticClass:"nameList"},[e._v("年份：")]),a("el-date-picker",{attrs:{type:"year",format:"yyyy","value-format":"yyyy",placeholder:"选择年份"},on:{change:e.changeYear},model:{value:e.goalsyear,callback:function(t){e.goalsyear=t},expression:"goalsyear"}}),e._v(" "),a("p",[e._v(" ")]),e._v(" "),a("div",{staticClass:"entry"},[a("p",{staticClass:"entry_name"},[e._v(e._s(e.goalsyear+"年"+e.depGoalsName+"全年目标业绩为"+e.depGoalsNum+"元"))])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.depGoalsData,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"deptname",fixed:"","min-width":"110",label:"部门",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month01","min-width":"90",label:"一月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month02","min-width":"90",label:"二月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month03","min-width":"90",label:"三月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month04","min-width":"90",label:"四月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month05","min-width":"90",label:"五月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month06","min-width":"90",label:"六月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month07","min-width":"90",label:"七月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month08","min-width":"90",label:"八月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month09","min-width":"90",label:"九月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month10","min-width":"90",label:"十月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month11","min-width":"90",label:"十一月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month12","min-width":"90",label:"十二月",sortable:""}})],1),e._v(" "),a("div",{staticClass:"entry"},[a("p",{staticClass:"entry_name"},[e._v(e._s(e.depGoalsName+"成员"+e.goalsyear+"年目标明细"))])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.goalsData,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"private_employee",fixed:"","min-width":"110",label:"员工",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month01","min-width":"90",label:"一月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month02","min-width":"90",label:"二月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month03","min-width":"90",label:"三月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month04","min-width":"90",label:"四月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month05","min-width":"90",label:"五月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month06","min-width":"90",label:"六月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month07","min-width":"90",label:"七月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month08","min-width":"90",label:"八月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month09","min-width":"90",label:"九月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month10","min-width":"90",label:"十月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month11","min-width":"90",label:"十一月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"month12","min-width":"90",label:"十二月",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"90","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")])]}}])})],1)],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"方案目标",name:"second"}},[a("div",{staticClass:"radioList"},[a("el-radio-group",{model:{value:e.searchList.state,callback:function(t){e.$set(e.searchList,"state",t)},expression:"searchList.state"}},[a("span",{staticClass:"nameList"},[e._v("方案状态：")]),e._v(" "),a("el-radio",{attrs:{label:e.nullvalue},on:{change:function(t){e.search()}}},[e._v("全部状态")]),e._v(" "),a("el-radio",{attrs:{label:"启用"},on:{change:function(t){e.search()}}},[e._v("启用")]),e._v(" "),a("el-radio",{attrs:{label:"禁止"},on:{change:function(t){e.search()}}},[e._v("禁用")])],1)],1),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"entry"},[a("el-button",{staticClass:"btn info-btn",attrs:{size:"mini"},on:{click:function(t){e.handleAdd()}}},[e._v("新增")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{size:"mini"},on:{click:function(t){e.handledeletes()}}},[e._v("删除")]),e._v(" "),a("div",{staticClass:"totalnum_head"},[e._v("共 "),a("span",{staticClass:"bold_span"},[e._v(e._s(e.tableNumber))]),e._v(" 条")]),e._v(" "),a("el-popover",{attrs:{placement:"bottom",width:"100",trigger:"click"}},[a("el-checkbox-group",{staticClass:"checklist",staticStyle:{"max-height":"600px","overflow-y":"overlay","overflow-x":"hidden"},model:{value:e.checklist,callback:function(t){e.checklist=t},expression:"checklist"}},e._l(e.filterList,function(t){return a("el-checkbox",{key:t.id,staticClass:"checkone",attrs:{label:t.name,value:t.state},on:{change:function(a){e.hangleChange(a,t)}}})})),e._v(" "),a("el-button",{staticClass:"info-btn screen",attrs:{slot:"reference",icon:"el-icon-more",type:"mini"},slot:"reference"})],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.selectInfo}},[a("el-table-column",{attrs:{fixed:"","header-align":"center",align:"center",type:"selection",width:"45","scope.row.id":"",prop:"id",sortable:""},on:{"selection-change":e.selectInfo}}),e._v(" "),e._l(e.filterList,function(t,o){return a("div",{key:o},["projectName"==t.prop&&1==t.state?a("el-table-column",{attrs:{label:"方案名称",prop:"projectName",fixed:"","min-width":"150",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"hoverline",on:{click:function(a){e.openDetails(t.$index,t.row)}}},[e._v("\n                                    "+e._s(t.row.projectName)+"\n                                ")])]}}])}):e._e(),e._v(" "),"time"==t.prop&&1==t.state?a("el-table-column",{attrs:{label:"年份",prop:"time","min-width":"90",sortable:""}}):e._e(),e._v(" "),"private_employee"==t.prop&&1==t.state?a("el-table-column",{attrs:{label:"负责人",prop:"private_employee","min-width":"100",sortable:""}}):e._e(),e._v(" "),"deptname"==t.prop&&1==t.state?a("el-table-column",{attrs:{label:"部门",prop:"deptname","min-width":"110",sortable:""}}):e._e(),e._v(" "),"parentname"==t.prop&&1==t.state?a("el-table-column",{attrs:{label:"机构",prop:"parentname","min-width":"110","show-overflow-tooltip":"",sortable:""}}):e._e(),e._v(" "),"createTime"==t.prop&&1==t.state?a("el-table-column",{attrs:{label:"创建时间",prop:"createTime","min-width":"150",sortable:""}}):e._e(),e._v(" "),"state"==t.prop&&1==t.state?a("el-table-column",{attrs:{label:"状态",prop:"state","min-width":"80",sortable:""}}):e._e()],1)}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"150","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleUpdate(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handledelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],2),e._v(" "),a("div",{staticClass:"block numberPage"},[a("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[20,50,100,500],"page-size":20,layout:"total, sizes, prev, pager, next, jumper",total:e.tableNumber},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"线索客户参数",name:"third"}},[a("div",{staticClass:"entry"},[a("p",{directives:[{name:"show",rawName:"v-show",value:e.showparams,expression:"showparams"}],staticClass:"entry_name"},[e._v(e._s(e.depts))]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.showparams,expression:"!showparams"}],staticClass:"entry_name"},[e._v("请选择部门，查看限制参数")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showparams,expression:"showparams"}],staticClass:"param_c"},[a("p",[e._v("线索超过 "),a("el-input",{staticClass:"inputnum",attrs:{name:"clueDay"},on:{blur:e.changeNum},model:{value:e.paramList.clueDay,callback:function(t){e.$set(e.paramList,"clueDay",t)},expression:"paramList.clueDay"}}),e._v(" 天后，线索自动归集到线索池，同时每个人最多允许存在 "),a("el-input",{staticClass:"inputnum",attrs:{name:"clueNum"},on:{blur:e.changeNum},model:{value:e.paramList.clueNum,callback:function(t){e.$set(e.paramList,"clueNum",t)},expression:"paramList.clueNum"}}),e._v(" 条在线索，超过后不允许新增。")],1),e._v(" "),a("p",[e._v("客户超过 "),a("el-input",{staticClass:"inputnum",attrs:{name:"customerDay"},on:{blur:e.changeNum},model:{value:e.paramList.customerDay,callback:function(t){e.$set(e.paramList,"customerDay",t)},expression:"paramList.customerDay"}}),e._v(" 天后，客户自动归集到客户池，同时每个人最多允许存在 "),a("el-input",{staticClass:"inputnum",attrs:{name:"customerNum"},on:{blur:e.changeNum},model:{value:e.paramList.customerNum,callback:function(t){e.$set(e.paramList,"customerNum",t)},expression:"paramList.customerNum"}}),e._v(" 条在客户，超过后不允许新增。")],1),e._v(" "),a("p",[e._v("没人最多允许存在 "),a("el-input",{staticClass:"inputnum",attrs:{name:"opportunityNum"},on:{blur:e.changeNum},model:{value:e.paramList.opportunityNum,callback:function(t){e.$set(e.paramList,"opportunityNum",t)},expression:"paramList.opportunityNum"}}),e._v(" 条商机，超过后不允许新增。")],1)])])],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialogform",attrs:{title:"添加方案",visible:e.dialogVisible,"close-on-click-modal":!1,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"newform",attrs:{model:e.newform,"label-width":"80px",rules:e.rules}},[a("el-form-item",{attrs:{prop:"second_id",label:"所属部门"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.newform.secondname,callback:function(t){e.$set(e.newform,"secondname",t)},expression:"newform.secondname"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"projectName",label:"方案名称"}},[a("el-input",{attrs:{placeholder:"请输入方案名称"},model:{value:e.newform.projectName,callback:function(t){e.$set(e.newform,"projectName",t)},expression:"newform.projectName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"time",label:"年份"}},[a("el-date-picker",{attrs:{format:"yyyy","value-format":"yyyy",type:"year",placeholder:"选择年份"},model:{value:e.newform.time,callback:function(t){e.$set(e.newform,"time",t)},expression:"newform.time"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"private_employee",label:"负责人"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.newform.private_employee,callback:function(t){e.$set(e.newform,"private_employee",t)},expression:"newform.private_employee"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"state",label:"方案状态"}},[a("el-radio",{attrs:{label:"启用"},model:{value:e.newform.state,callback:function(t){e.$set(e.newform,"state",t)},expression:"newform.state"}},[e._v("启用")]),e._v(" "),a("el-radio",{attrs:{label:"禁用"},model:{value:e.newform.state,callback:function(t){e.$set(e.newform,"state",t)},expression:"newform.state"}},[e._v("禁用")])],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addprogramme()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialogform",attrs:{title:"修改方案",visible:e.dialogVisible2,"close-on-click-modal":!1,width:"40%"},on:{"update:visible":function(t){e.dialogVisible2=t}}},[a("el-form",{ref:"newform",attrs:{model:e.newform,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"second_id",label:"所属部门"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.newform.secondname,callback:function(t){e.$set(e.newform,"secondname",t)},expression:"newform.secondname"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"projectName",label:"方案名称"}},[a("el-input",{attrs:{placeholder:"请输入方案名称"},model:{value:e.newform.projectName,callback:function(t){e.$set(e.newform,"projectName",t)},expression:"newform.projectName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"time",label:"年份"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy","value-format":"yyyy",type:"year",placeholder:"选择年份"},model:{value:e.newform.time,callback:function(t){e.$set(e.newform,"time",t)},expression:"newform.time"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"private_employee",label:"负责人"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.newform.private_employee,callback:function(t){e.$set(e.newform,"private_employee",t)},expression:"newform.private_employee"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"state",label:"方案状态"}},[a("el-radio",{attrs:{label:"启用"},model:{value:e.newform.state,callback:function(t){e.$set(e.newform,"state",t)},expression:"newform.state"}},[e._v("启用")]),e._v(" "),a("el-radio",{attrs:{label:"禁用"},model:{value:e.newform.state,callback:function(t){e.$set(e.newform,"state",t)},expression:"newform.state"}},[e._v("禁用")])],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible2=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.updateprogramme()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialogform",attrs:{title:"个人目标",visible:e.dialogVisible3,"close-on-click-modal":!1,width:"40%"},on:{"update:visible":function(t){e.dialogVisible3=t}}},[a("el-form",{ref:"goalsForm",attrs:{model:e.goalsForm,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"private_employee",label:"员工"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.goalsForm.private_employee,callback:function(t){e.$set(e.goalsForm,"private_employee",t)},expression:"goalsForm.private_employee"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"month01",label:"一月"}},[a("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入一月份目标"},model:{value:e.goalsForm.month01,callback:function(t){e.$set(e.goalsForm,"month01",t)},expression:"goalsForm.month01"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"month02",label:"二月"}},[a("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入二月份目标"},model:{value:e.goalsForm.month02,callback:function(t){e.$set(e.goalsForm,"month02",t)},expression:"goalsForm.month02"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"month03",label:"三月"}},[a("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入三月份目标"},model:{value:e.goalsForm.month03,callback:function(t){e.$set(e.goalsForm,"month03",t)},expression:"goalsForm.month03"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"month04",label:"四月"}},[a("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入四月份目标"},model:{value:e.goalsForm.month04,callback:function(t){e.$set(e.goalsForm,"month04",t)},expression:"goalsForm.month04"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"month05",label:"五月"}},[a("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入五月份目标"},model:{value:e.goalsForm.month05,callback:function(t){e.$set(e.goalsForm,"month05",t)},expression:"goalsForm.month05"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"month06",label:"六月"}},[a("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入六月份目标"},model:{value:e.goalsForm.month06,callback:function(t){e.$set(e.goalsForm,"month06",t)},expression:"goalsForm.month06"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"month07",label:"七月"}},[a("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入七月份目标"},model:{value:e.goalsForm.month07,callback:function(t){e.$set(e.goalsForm,"month07",t)},expression:"goalsForm.month07"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"month08",label:"八月"}},[a("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入八月份目标"},model:{value:e.goalsForm.month08,callback:function(t){e.$set(e.goalsForm,"month08",t)},expression:"goalsForm.month08"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"month09",label:"九月"}},[a("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入九月份目标"},model:{value:e.goalsForm.month09,callback:function(t){e.$set(e.goalsForm,"month09",t)},expression:"goalsForm.month09"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"month10",label:"十月"}},[a("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入十月份目标"},model:{value:e.goalsForm.month10,callback:function(t){e.$set(e.goalsForm,"month10",t)},expression:"goalsForm.month10"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"month11",label:"十一月"}},[a("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入十一月份目标"},model:{value:e.goalsForm.month11,callback:function(t){e.$set(e.goalsForm,"month11",t)},expression:"goalsForm.month11"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"month12",label:"十二月"}},[a("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入十二月份目标"},model:{value:e.goalsForm.month12,callback:function(t){e.$set(e.goalsForm,"month12",t)},expression:"goalsForm.month12"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible3=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.updategoals()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")(n,r,!1,function(e){a("L+9v")},null,null);t.default=i.exports}});