webpackJsonp([18],{DkN6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mvHQ"),o=a.n(s),l=a("INCx"),i=a.n(l),r=a("bOdI"),n=a.n(r),u=(a("wtEF"),a("mtWM")),d=a.n(u),c=(a("mw3O"),{name:"name",data:function(){var e;return e={list:null,orderList:[],selectData:[],itemData:[{orderNo:null,orderTime:null,order_money:null,accepted_money:null,uncollected_money:null,this_money:null,remarks:null,edit:!1},{orderNo:null,orderTime:null,order_money:null,accepted_money:null,uncollected_money:null,this_money:null,remarks:null,edit:!1}],scopeIndex:null,myform:{id:null,customerpool_id:null,createTime:null,pay_type_id:null,money:null,discountAfter:null,discountAmount:null,discount:null,remarks:null,images:null,files:null,private_employee:this.$store.state.user,ascriptionId:null,ascription:null,deptname:null,department:null},rules:{customerpool_id:[{required:!0,message:"公司名称不能为空",trigger:"blur"}],createTime:[{required:!0,message:"日期不能为空",trigger:"blur"}],pay_type_id:[{required:!0,message:"结算账户不能为空",trigger:"blur"}],discountAfter:[{required:!0,message:"折后金额不能为空",trigger:"blur"}]},imagesData:[],imagesList:[],filesData:[],filesList:[],customerList:[],payTypeMethod:[],isDisable:!1,OKdisabled:!0},n()(e,"isDisable",!1),n()(e,"fieldsform",{}),n()(e,"previewData",[]),n()(e,"deptData",[]),n()(e,"defaultProps",{label:"deptname",children:"next"}),n()(e,"userData",[]),n()(e,"doUpload",this.$store.state.defaultHttp+"workOrder/upload.do?cId="+this.$store.state.iscId),e},mounted:function(){this.loadOther(),this.loadfield(),this.loadUserandDept()},methods:{loadOther:function(){var e=this,t=a("1nuA"),s={page:1,limit:1e7},o=new Date,l=o.getFullYear(),i=o.getMonth()+1,r=o.getDate();i=i<10?"0"+i:i,r=r<10?"0"+r:r,this.myform.createTime=l+"-"+i+"-"+r,d()({method:"post",url:e.$store.state.defaultHttp+"customerpool/query.do?cId="+e.$store.state.iscId,data:t.stringify(s)}).then(function(t){e.customerList=t.data.map.success}).catch(function(e){}),d()({method:"post",url:e.$store.state.defaultHttp+"typeInfo/getTypeInfoGroupByType.do?cId="+e.$store.state.iscId,data:t.stringify({type:"结算账户"})}).then(function(t){e.payTypeMethod=t.data}).catch(function(e){})},getList:function(){var e=this,t=a("1nuA"),s={customerpoolId:this.myform.customerpool_id};d()({method:"post",url:e.$store.state.defaultHttp+"orderBackDetail/selectByCustomerpoolId.do?cId="+e.$store.state.iscId,data:t.stringify(s)}).then(function(t){var a=t.data;e.list=a.map(function(t){return e.$set(t,"edit",!1),t}),e.orderList=a,e.$options.methods.getSelect.bind(e)()}).catch(function(e){})},loadfield:function(){var e=this,t=a("1nuA");d()({method:"post",url:e.$store.state.defaultHttp+"field/queryField.do?cId="+e.$store.state.iscId,data:t.stringify({label:12,id:null,batch_id:null})}).then(function(t){var a=t.data;a.forEach(function(t,a){t.displayVal="",t.default_value=t.value,"user"!=t.formType&&"structure"!=t.formType||(t.displayVal=t.deptOrUserName,t.default_value=parseInt(t.value)),1==t.is_null&&(e.rules[t.field_name]=[{required:!0,message:" ",trigger:"blur"}])}),e.previewData=a}).catch(function(e){})},loadUserandDept:function(){var e=this,t=a("1nuA"),s={page:1,limit:"9999"};d()({method:"post",url:e.$store.state.defaultHttp+"getPrivateUserAll.do?cId="+e.$store.state.iscId,data:t.stringify(s)}).then(function(t){e.userData=t.data.map.success}).catch(function(e){}),d()({method:"get",url:e.$store.state.defaultHttp+"dept/getDeptNodeTree.do?cId="+e.$store.state.iscId}).then(function(t){e.deptData=t.data.map.success}).catch(function(e){})},selectOrder:function(e){var t=this;this.selectData.forEach(function(a,s){a.orderNo==e&&(t.itemData[t.scopeIndex]=a,t.itemData[t.scopeIndex].edit=!0,t.itemData[t.scopeIndex].this_money=0)}),this.$options.methods.getList.bind(this)()},getSelect:function(){var e=this.list;this.selectData=[],this.itemData.forEach(function(t,a){e.forEach(function(a,s){t.order_id&&a.order_id==t.order_id&&e.splice(s,1)})}),this.selectData=e},selectCustomer:function(e){var t=this;this.customerList.forEach(function(a){a.id==e&&(t.myform.ascriptionId=a.privateUser[0].private_id,t.myform.ascription=a.privateUser[0].private_employee,t.myform.deptname=a.deptname,t.myform.parentname=a.parentname)}),this.$options.methods.getList.bind(this)()},handleAdd:function(){this.itemData.push({orderNo:null,orderTime:null,order_money:null,accepted_money:null,uncollected_money:null,this_money:null,remarks:null,edit:!1})},cellClick:function(e,t,a,s){var o=this;e.edit=!1,"操作"!==t.label&&(this.myform.customerpool_id?(e.edit=!0,this.itemData.forEach(function(t,a){t.order_id==e.order_id&&(o.scopeIndex=a)})):this.$message({message:"请先选择客户",type:"error"}))},rowDelete:function(e,t){var a=this;this.itemData.forEach(function(t,s){s==e&&a.itemData.splice(s,1)}),this.$options.methods.getList.bind(this)()},rowEdit:function(e){e.edit=!1,this.$message({message:"本地保存成功",type:"success"})},handleFoces:function(e,t){this.scopeIndex=e},inputDiscountAfter:function(e){if(this.myform.money){var t=parseFloat(this.myform.money)-parseFloat(e),a=parseFloat(e)/parseFloat(this.myform.money)*100;this.myform.discountAmount=t.toFixed(2),this.myform.discount=a.toFixed(2)}},handleinput:function(e,t,a){var s=this;this.orderList.forEach(function(t){if(t.order_id==a.order_id)if(e){var o=parseFloat(a.this_money)+parseFloat(t.accepted_money),l=parseFloat(a.order_money)-o;a.uncollected_money=l.toFixed(2),a.accepted_money=o.toFixed(2),l.toFixed(2)<0&&s.$message({message:"本次收款金额不能大于未收款金额",type:"error"})}else a.uncollected_money=t.uncollected_money,a.accepted_money=t.accepted_money});var o=0;this.itemData.forEach(function(e){e.order_id&&(o+=parseFloat(e.this_money))});var l=o.toFixed(2);this.myform.discountAfter&&this.myform.discountAfter!=this.myform.money||(this.myform.discountAfter=l),this.myform.money=l,this.inputDiscountAfter(this.myform.discountAfter)},getSummary:function(e){var t=e.columns,a=e.data,s=[];return t.forEach(function(e,t){if(0!==t){var o=a.map(function(t){return Number(t[e.property])});if("this_money"==e.property||"accepted_money"==e.property||"uncollected_money"==e.property||"order_money"==e.property){s[t]=o.reduce(function(e,t){return t+e},0),s[t]=s[t].toFixed(2);var l=i()(s[t]).toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,"),r=".00",n=s[t].split(".");2===n.length?1===(r=n[1].toString()).length?s[t]=l+"."+r+"0":s[t]=l+"."+r:s[t]=l+r,s[t]+=" 元"}else"num"==e.property?(s[t]=o.reduce(function(e,t){return t+e},0),s[t]):s[t]=""}else s[t]="合计"}),s},handlecheck:function(e,t){this.previewData.forEach(function(a){a.id==t.id&&(a.displayVal=e.deptname,a.default_value=e.deptid)})},beforeUpload:function(e){if(!(e.size/1024/1024<1))return this.$message.warning("文件大小不能超过 5MB!"),!1},uploadExceed:function(e,t){if(e.length>3)return this.$message.warning("文件不能超过3个!"),!1},uploadSuccess:function(e,t,a){this.previewData.forEach(function(t){"file"==t.formType&&(t.default_value=e)})},fileUploadSuccess:function(e,t,a){var s=a,l=new Array;s.forEach(function(e){l.push({name:e.name,response:e.response})}),this.myform.files=o()(l)},imageUploadSuccess:function(e,t,a){var s=a,l=new Array;console.log(s),s.forEach(function(e){l.push({name:e.name,response:e.response})}),this.myform.images=o()(l)},onSubmit:function(){var e=this,t=e.previewData,a=new Array,s=null;this.itemData.forEach(function(e,t){e.order_id&&a.push({order_id:e.order_id,order_money:parseFloat(e.order_money),this_money:parseFloat(e.this_money),accepted_money:parseFloat(e.accepted_money),uncollected_money:parseFloat(e.uncollected_money),remarks:e.remarks}),e.uncollected_money<0&&(s=e)});var o={id:null,batch_id:null,customerpool_id:this.myform.customerpool_id,createTime:this.myform.createTime,money:parseFloat(this.myform.money),pay_type_id:this.myform.pay_type_id,discount:parseFloat(this.myform.discount),discountAmount:parseFloat(this.myform.discountAmount),discountAfter:parseFloat(this.myform.discountAfter),remarks:this.myform.remarks,images:this.myform.images,files:this.myform.files,pId:parseInt(this.$store.state.ispId),ascriptionId:this.myform.ascriptionId},l=!1;if(a.length||(e.$message({message:"订单不能为空",type:"error"}),l=!0),o.discountAfter||(e.$message({message:"折后金额不能为空",type:"error"}),l=!0),o.pay_type_id||(e.$message({message:"结算账户不能为空",type:"error"}),l=!0),s&&(e.$message({message:s.orderNo+"：本次收款金额不能大于未收款金额",type:"error"}),l=!0),t.forEach(function(t){"checkbox"==t.formType?t.value=t.default_value.join(","):"user"==t.formType||"structure"==t.formType?t.default_value&&(t.value=t.default_value.toString()):t.value=t.default_value,1!=t.is_null||t.value||(e.$message({message:t.name+"不能为空",type:"error"}),l=!0)}),!l){var i={orderBack:o,orderBackDetailList:a,field:t};this.isDisable=!0,d()({method:"post",url:e.$store.state.defaultHttp+"orderBack/saveOrUpdate.do?cId="+e.$store.state.iscId,data:i}).then(function(t){if(t.data.code&&"200"==t.data.code){e.$message({message:"成功",type:"success"});var a=t.data.map.orderBack;console.log(a),e.$store.state.orderReceiveDetailData={id:a.id,batch_id:a.batch_id},e.closeTag(),e.$router.push({path:"/orderReceiveDetail"})}else e.$message({message:t.data.msg,type:"error"});e.isDisable=!1}).catch(function(t){e.isDisable=!1})}},submitandclose:function(){var e=this,t=e.previewData,a=new Array,s=null;this.itemData.forEach(function(e,t){e.order_id&&a.push({order_id:e.order_id,order_money:parseFloat(e.order_money),this_money:parseFloat(e.this_money),accepted_money:parseFloat(e.accepted_money),uncollected_money:parseFloat(e.uncollected_money),remarks:e.remarks}),e.uncollected_money<0&&(console.log("fgdgdfgf"),s=e)});var o={id:null,batch_id:null,customerpool_id:this.myform.customerpool_id,createTime:this.myform.createTime,money:parseFloat(this.myform.money),pay_type_id:this.myform.pay_type_id,discount:parseFloat(this.myform.discount),discountAmount:parseFloat(this.myform.discountAmount),discountAfter:parseFloat(this.myform.discountAfter),remarks:this.myform.remarks,images:this.myform.images,files:this.myform.files,pId:parseInt(this.$store.state.ispId)},l=!1;if(a.length||(e.$message({message:"订单不能为空",type:"error"}),l=!0),o.discountAfter||(e.$message({message:"折后金额不能为空",type:"error"}),l=!0),o.pay_type_id||(e.$message({message:"结算账户不能为空",type:"error"}),l=!0),s&&(e.$message({message:s.orderNo+"：本次收款金额不能大于未收款金额",type:"error"}),l=!0),t.forEach(function(t){"checkbox"==t.formType?t.value=t.default_value.join(","):"user"==t.formType||"structure"==t.formType?t.default_value&&(t.value=t.default_value.toString()):t.value=t.default_value,1!=t.is_null||t.value||(e.$message({message:t.name+"不能为空",type:"error"}),l=!0)}),!l){var i={orderBack:o,orderBackDetailList:a,field:t};console.log(i),this.isDisable=!0,d()({method:"post",url:e.$store.state.defaultHttp+"orderBack/saveOrUpdate.do?cId="+e.$store.state.iscId,data:i}).then(function(t){t.data.code&&"200"==t.data.code?(e.$message({message:"成功",type:"success"}),e.closeTag()):e.$message({message:t.data.msg,type:"error"}),e.isDisable=!1}).catch(function(t){e.isDisable=!1})}},closeTag:function(){var e=this,t=void 0;this.$store.state.tagsList.forEach(function(a,s){a.name==e.$options.name&&(t=s)});var a=this.$store.state.tagsList.splice(t,1)[0];(this.$store.state.tagsList[t]?this.$store.state.tagsList[t]:this.$store.state.tagsList[t-1])?a.path===this.$route.fullPath&&this.$router.push("/orderReceive"):this.$router.push("/index")}}}),m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"orderadd_c"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"bold_span"},[e._v("订单收款单")])]),e._v(" "),a("div",{staticClass:"orderHead"},[a("el-form",{ref:"myform",attrs:{inline:!0,model:e.myform,rules:e.rules}},[a("el-form-item",{staticClass:"first_input",attrs:{prop:"customerpool_id",label:"公司名称","label-width":"90px"}},[a("el-select",{staticClass:"inputbox",attrs:{placeholder:"请选择公司名称",filterable:""},on:{change:e.selectCustomer},model:{value:e.myform.customerpool_id,callback:function(t){e.$set(e.myform,"customerpool_id",t)},expression:"myform.customerpool_id"}},e._l(e.customerList,function(e){return a("el-option",{key:e.id,attrs:{label:e.pName,value:e.id}})}))],1),e._v(" "),a("el-form-item",{staticClass:"first_input",attrs:{prop:"createTime",label:"收款日期","label-width":"90px"}},[a("el-date-picker",{staticClass:"inputbox",attrs:{type:"date",placeholder:"选择收款日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.myform.createTime,callback:function(t){e.$set(e.myform,"createTime",t)},expression:"myform.createTime"}})],1),e._v(" "),a("el-form-item",{staticClass:"first_input",attrs:{prop:"pay_type_id",label:"结算账户","label-width":"90px"}},[a("el-select",{staticClass:"inputbox",attrs:{placeholder:"请选择结算账户"},model:{value:e.myform.pay_type_id,callback:function(t){e.$set(e.myform,"pay_type_id",t)},expression:"myform.pay_type_id"}},e._l(e.payTypeMethod,function(e){return a("el-option",{key:e.id,attrs:{label:e.typeName,value:e.id}})}))],1),e._v(" "),a("el-form-item",{staticClass:"first_input",attrs:{label:"收款总金额","label-width":"90px"}},[a("el-input",{staticClass:"inputbox",attrs:{disabled:""},model:{value:e.myform.money,callback:function(t){e.$set(e.myform,"money",t)},expression:"myform.money"}})],1),e._v(" "),a("el-form-item",{staticClass:"first_input",attrs:{prop:"discountAfter",label:"折后金额","label-width":"90px"}},[a("el-input",{staticClass:"inputbox",on:{input:e.inputDiscountAfter},model:{value:e.myform.discountAfter,callback:function(t){e.$set(e.myform,"discountAfter",t)},expression:"myform.discountAfter"}})],1),e._v(" "),a("el-form-item",{staticClass:"first_input",attrs:{label:"折扣额","label-width":"90px"}},[a("el-input",{staticClass:"inputbox",attrs:{disabled:""},model:{value:e.myform.discountAmount,callback:function(t){e.$set(e.myform,"discountAmount",t)},expression:"myform.discountAmount"}})],1),e._v(" "),a("el-form-item",{staticClass:"first_input",attrs:{label:"折扣率","label-width":"90px"}},[a("el-input",{staticClass:"inputbox",attrs:{disabled:""},model:{value:e.myform.discount,callback:function(t){e.$set(e.myform,"discount",t)},expression:"myform.discount"}},[a("span",{staticStyle:{"margin-right":"5px","line-height":"34px"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("%")])])],1),e._v(" "),a("el-form-item",{staticClass:"first_input",attrs:{label:"备注","label-width":"90px"}},[a("el-input",{staticClass:"inputbox",model:{value:e.myform.remarks,callback:function(t){e.$set(e.myform,"remarks",t)},expression:"myform.remarks"}})],1),e._v(" "),e._l(e.previewData,function(t){return a("el-form-item",{key:t.id,staticClass:"first_input",staticStyle:{"margin-right":"15px"},attrs:{label:t.name,prop:t.field_name,"label-width":"90px"}},["text"==t.formType||"email"==t.formType?a("el-input",{staticClass:"inputbox",attrs:{placeholder:t.input_tips},model:{value:t.default_value,callback:function(a){e.$set(t,"default_value",a)},expression:"item.default_value"}}):"textarea"==t.formType?a("el-input",{staticClass:"inputbox",attrs:{type:"textarea",maxlength:t.max_length,placeholder:t.input_tips},model:{value:t.default_value,callback:function(a){e.$set(t,"default_value",a)},expression:"item.default_value"}}):"number"==t.formType?a("el-input",{staticClass:"inputbox",attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:t.input_tips},model:{value:t.default_value,callback:function(a){e.$set(t,"default_value",a)},expression:"item.default_value"}}):"floatnumber"==t.formType?a("el-input",{staticClass:"inputbox",attrs:{onkeyup:"value=value.replace(/^\\D*(\\d*(?:\\.\\d{0,2})?).*$/g, '$1')",placeholder:t.input_tips},model:{value:t.default_value,callback:function(a){e.$set(t,"default_value",a)},expression:"item.default_value"}}):"mobile"==t.formType?a("el-input",{staticClass:"inputbox",attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",maxlength:11,placeholder:t.input_tips},model:{value:t.default_value,callback:function(a){e.$set(t,"default_value",a)},expression:"item.default_value"}}):"select"==t.formType?a("el-select",{staticClass:"inputbox",attrs:{placeholder:t.input_tips},model:{value:t.default_value,callback:function(a){e.$set(t,"default_value",a)},expression:"item.default_value"}},e._l(t.setting,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})):"checkbox"==t.formType?a("el-select",{staticClass:"inputbox",attrs:{multiple:"",placeholder:t.input_tips},model:{value:t.default_value,callback:function(a){e.$set(t,"default_value",a)},expression:"item.default_value"}},e._l(t.setting,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})):"user"==t.formType?a("el-select",{staticClass:"inputbox",attrs:{placeholder:t.input_tips},model:{value:t.default_value,callback:function(a){e.$set(t,"default_value",a)},expression:"item.default_value"}},e._l(e.userData,function(e){return a("el-option",{key:e.private_id,attrs:{label:e.private_employee,value:e.private_id}})})):"structure"==t.formType?a("el-select",{staticClass:"noPadding_select inputbox",attrs:{placeholder:t.input_tips},model:{value:t.displayVal,callback:function(a){e.$set(t,"displayVal",a)},expression:"item.displayVal"}},[a("el-option",{staticClass:"droplist nopadding_option",attrs:{value:t.displayVal}},[a("el-tree",{ref:"tree",refInFor:!0,attrs:{"node-key":"deptid","highlight-current":"","default-expand-all":"","expand-on-click-node":!1,data:e.deptData,props:e.defaultProps},on:{"node-click":function(a){e.handlecheck(a,t)}}})],1)],1):"date"==t.formType?a("el-date-picker",{staticClass:"inputbox",attrs:{type:"date",placeholder:t.input_tips,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.default_value,callback:function(a){e.$set(t,"default_value",a)},expression:"item.default_value"}}):"datetime"==t.formType?a("el-date-picker",{staticClass:"inputbox",attrs:{type:"datetime",placeholder:t.input_tips,format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.default_value,callback:function(a){e.$set(t,"default_value",a)},expression:"item.default_value"}}):"file"==t.formType?a("el-upload",{staticClass:"upload-demo",attrs:{action:e.doUpload,"on-success":e.uploadSuccess,"before-upload":e.beforeUpload}},[a("el-button",{staticClass:"info-btn",attrs:{size:"mini"}},[e._v("上传")]),e._v(" "),a("div",{staticClass:"el-upload__tip",staticStyle:{"margin-top":"-20px"},attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(t.input_tips))])],1):e._e()],1)})],2)],1)]),e._v(" "),a("div",{staticClass:"entry"},[a("el-button",{staticClass:"btn info-btn",attrs:{size:"mini",icon:"el-icon-circle-plus-outline"},on:{click:e.handleAdd}})],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.itemData,border:"",fit:"","highlight-current-row":"","show-summary":"","summary-method":e.getSummary},on:{"cell-click":e.cellClick}},[a("el-table-column",{attrs:{"header-align":"center",align:"center",fixed:"",type:"index","min-width":"45"}}),e._v(" "),a("el-table-column",{attrs:{label:"销售单号",prop:"orderNo","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?[a("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{focus:function(a){e.handleFoces(t.$index,t.row)},change:e.selectOrder},model:{value:t.row.orderNo,callback:function(a){e.$set(t.row,"orderNo",a)},expression:"scope.row.orderNo"}},e._l(e.selectData,function(e,t){return a("el-option",{key:t,staticClass:"droplist",attrs:{label:e.orderNo,value:e.orderNo}})}))]:a("span",[e._v(e._s(t.row.orderNo))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"订单日期",prop:"orderTime",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"订单金额",prop:"order_money",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"已收金额",prop:"accepted_money",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"未收款金额",prop:"uncollected_money",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"本次回款金额",prop:"this_money","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?[a("el-input",{staticClass:"edit-input",attrs:{size:"small"},on:{input:function(a){e.handleinput(a,t.$index,t.row)}},model:{value:t.row.this_money,callback:function(a){e.$set(t.row,"this_money",a)},expression:"scope.row.this_money"}})]:a("span",[e._v(e._s(t.row.this_money))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"备注",prop:"remarks",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?[a("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:t.row.remarks,callback:function(a){e.$set(t.row,"remarks",a)},expression:"scope.row.remarks"}})]:a("span",[e._v(e._s(t.row.remarks))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"90",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{width:"30px",height:"30px",padding:"0"},attrs:{type:"success",plain:"",disabled:!t.row.edit,icon:"el-icon-circle-check-outline"},on:{click:function(a){e.rowEdit(t.row)}}}),e._v(" "),a("el-button",{staticStyle:{width:"30px",height:"30px",padding:"0"},attrs:{type:"danger",plain:"",icon:"el-icon-delete"},on:{click:function(a){e.rowDelete(t.$index,t.row)}}})]}}])})],1),e._v(" "),a("el-form",{staticClass:"disabledForm",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"制单人","label-width":"110px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.myform.private_employee,callback:function(t){e.$set(e.myform,"private_employee",t)},expression:"myform.private_employee"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"负责人","label-width":"110px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.myform.ascription,callback:function(t){e.$set(e.myform,"ascription",t)},expression:"myform.ascription"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"部门","label-width":"110px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.myform.deptname,callback:function(t){e.$set(e.myform,"deptname",t)},expression:"myform.deptname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"机构","label-width":"110px"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.myform.parentname,callback:function(t){e.$set(e.myform,"parentname",t)},expression:"myform.parentname"}})],1)],1),e._v(" "),a("div",{staticClass:"submit_btn"},[a("el-button",{staticStyle:{"margin-right":"100px"},attrs:{type:"primary",disabled:e.isDisable},on:{click:e.onSubmit}},[e._v("保存并审核")]),e._v(" "),a("el-button",{staticStyle:{"margin-right":"100px !important"},attrs:{type:"primary",disabled:e.isDisable},on:{click:e.submitandclose}},[e._v("保存并关闭")]),e._v(" "),a("el-button",{on:{click:e.closeTag}},[e._v("取消")])],1)],1)},staticRenderFns:[]};var p=a("VU/8")(c,m,!1,function(e){a("gLXx")},null,null);t.default=p.exports},gLXx:function(e,t){}});