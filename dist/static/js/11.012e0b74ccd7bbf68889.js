webpackJsonp([11],{JKEc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("wtEF"),s=a("mtWM"),n=a.n(s),r=(a("mw3O"),{name:"activity",store:o.a,data:function(){return{newform:{poolName:null,contactsName:null,phone:null,qq:null},rules:{poolName:[{require:!0,message:"请填写公司名称",trigger:"blur"}],contactsName:[{require:!0,message:"请填写姓名",trigger:"blur"}],phone:[{require:!0,message:"请填写手机号码",trigger:"blur"}]},title:null,p:null}},mounted:function(){this.getSearchString()},methods:{getSearchString:function(){var e=window.location.hash,t=e.substring(11,e.length);this.p=t;var o=this;a("1nuA");n()({method:"get",url:o.$store.state.defaultHttp+"customerTwo/deCryptAndDecode.do?"+o.p}).then(function(e){o.title=e.data.name}).catch(function(e){})},addactivity:function(){var e=this,t=a("1nuA"),o={};o.poolName=this.newform.poolName,o.contactsName=this.newform.contactsName,o.phone=this.newform.phone,o.qq=this.newform.qq;var s=!1;[this.newform].forEach(function(t){t.poolName||(e.$message({message:"请填写公司名称",type:"error"}),s=!0),t.contactsName||(e.$message({message:"请填写姓名",type:"error"}),s=!0),/^[1][3,4,5,6,7,8][0-9]{9}$/.test(t.phone)||(e.$message({message:"请输入11位手机号码",type:"error"}),s=!0),t.phone||(e.$message({message:"请填写手机号码",type:"error"}),s=!0)}),s||n()({method:"post",url:e.$store.state.defaultHttp+"customerTwo/addActivityClue.do?"+e.p,data:t.stringify(o)}).then(function(t){t.data.code&&200==t.data.code?(e.$message({message:"已提交",type:"success"}),e.newform={poolName:null,contactsName:null,phone:null,qq:null},setTimeout(function(){window.close()},1500)):e.$message({message:t.data.msg,type:"error"})}).catch(function(t){e.$message.error("提交失败，请重新提交")})}}}),l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"htmlbody"},[a("div",{staticClass:"entryform"},[e._v(e._s(e.title))]),e._v(" "),a("el-form",{ref:"newform",staticClass:"formcontent",attrs:{model:e.newform,rules:e.rules}},[a("el-form-item",{attrs:{prop:"poolName"}},[a("span",{staticClass:"itemlabel"},[e._v("公司名称:")]),e._v(" "),a("el-input",{staticClass:"forminput",model:{value:e.newform.poolName,callback:function(t){e.$set(e.newform,"poolName",t)},expression:"newform.poolName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"contactsName"}},[a("span",{staticClass:"itemlabel"},[e._v("姓名:")]),e._v(" "),a("el-input",{staticClass:"forminput",model:{value:e.newform.contactsName,callback:function(t){e.$set(e.newform,"contactsName",t)},expression:"newform.contactsName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"phone"}},[a("span",{staticClass:"itemlabel"},[e._v("手机:")]),e._v(" "),a("el-input",{staticClass:"forminput",attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.newform.phone,callback:function(t){e.$set(e.newform,"phone",t)},expression:"newform.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"qq"}},[a("span",{staticClass:"itemlabel"},[e._v("qq:")]),e._v(" "),a("el-input",{staticClass:"forminput",attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.newform.qq,callback:function(t){e.$set(e.newform,"qq",t)},expression:"newform.qq"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"activitybtn",attrs:{type:"primary"},on:{click:function(t){e.addactivity()}}},[e._v("提 交")])],1)],1)],1)},staticRenderFns:[]};var m=a("VU/8")(r,l,!1,function(e){a("Vpdj")},null,null);t.default=m.exports},Vpdj:function(e,t){}});